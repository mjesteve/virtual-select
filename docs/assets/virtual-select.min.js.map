{"version":3,"file":"virtual-select.min.js","mappings":"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","sources":["webpack://virtual-select-plugin/./src/utils/dom-utils.js","webpack://virtual-select-plugin/./src/utils/utils.js","webpack://virtual-select-plugin/webpack/bootstrap","webpack://virtual-select-plugin/webpack/runtime/define property getters","webpack://virtual-select-plugin/webpack/runtime/hasOwnProperty shorthand","webpack://virtual-select-plugin/webpack/runtime/make namespace object","webpack://virtual-select-plugin/./src/virtual-select-Ext.js","webpack://virtual-select-plugin/./node_modules/popover-plugin/dist/popover.min.js"],"sourcesContent":["import { Utils } from './utils';\r\n\r\nexport class DomUtils {\r\n  /**\r\n   * @param {HTMLElement | NodeListOf<HTMLElement>} $ele\r\n   * @param {string} classNames\r\n   */\r\n  static addClass($ele, classNames) {\r\n    if (!$ele) {\r\n      return;\r\n    }\r\n\r\n    const classNamesArr = classNames.split(' ');\r\n\r\n    DomUtils.getElements($ele).forEach(($this) => {\r\n      $this.classList.add(...classNamesArr);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @param {HTMLElement | NodeListOf<HTMLElement>} $ele\r\n   * @param {string} classNames\r\n   */\r\n  static removeClass($ele, classNames) {\r\n    if (!$ele) {\r\n      return;\r\n    }\r\n\r\n    const classNamesArr = classNames.split(' ');\r\n\r\n    DomUtils.getElements($ele).forEach(($this) => {\r\n      $this.classList.remove(...classNamesArr);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @param {HTMLElement | NodeListOf<HTMLElement>} $ele\r\n   * @param {string} classNames\r\n   * @param {boolean} [isAdd]\r\n   */\r\n  static toggleClass($ele, classNames, isAdd) {\r\n    if (!$ele) {\r\n      return;\r\n    }\r\n\r\n    /** @type {boolean | undefined} */\r\n    let isAdding;\r\n\r\n    if (isAdd !== undefined) {\r\n      isAdding = Boolean(isAdd);\r\n    }\r\n\r\n    DomUtils.getElements($ele).forEach(($this) => {\r\n      $this.classList.toggle(classNames, isAdding);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @param {HTMLElement} $ele\r\n   * @param {string} className\r\n   * @returns {boolean}\r\n   */\r\n  static hasClass($ele, className) {\r\n    if (!$ele) {\r\n      return false;\r\n    }\r\n\r\n    return $ele.classList.contains(className);\r\n  }\r\n\r\n  /**\r\n   * @param {HTMLElement} $ele\r\n   * @param {string} oldClass\r\n   * @param {string} newClass\r\n   * @returns {boolean}\r\n   */\r\n  static replaceClass($ele, oldClass, newClass) {\r\n    if (!$ele) {\r\n      return false;\r\n    }\r\n\r\n    const classes = $ele.classList;\r\n    return classes.replace(oldClass, newClass);\r\n  }\r\n\r\n  /**\r\n   * @param {HTMLElement} $ele\r\n   * @returns {boolean}\r\n   */\r\n  static hasEllipsis($ele) {\r\n    if (!$ele) {\r\n      return false;\r\n    }\r\n\r\n    return $ele.scrollWidth > $ele.offsetWidth;\r\n  }\r\n\r\n  /**\r\n   * @param {HTMLElement} $ele\r\n   * @param {string} name\r\n   * @param {string} [type]\r\n   * @returns {any}\r\n   */\r\n  static getData($ele, name, type) {\r\n    if (!$ele) {\r\n      return undefined;\r\n    }\r\n\r\n    /** @type {any} */\r\n    let value = $ele ? $ele.dataset[name] : '';\r\n\r\n    if (type === 'number') {\r\n      value = parseFloat(value) || 0;\r\n    } else if (value === 'true') {\r\n      value = true;\r\n    } else if (value === 'false') {\r\n      value = false;\r\n    }\r\n\r\n    return value;\r\n  }\r\n\r\n  /**\r\n   * @param {HTMLElement} $ele\r\n   * @param {string} name\r\n   * @param {string} value\r\n   */\r\n  static setData($ele, name, value) {\r\n    if (!$ele) {\r\n      return;\r\n    }\r\n\r\n    // eslint-disable-next-line no-param-reassign\r\n    $ele.dataset[name] = value;\r\n  }\r\n\r\n  /**\r\n   * @param {HTMLElement} $ele\r\n   * @param {string} name\r\n   * @param {string} value\r\n   */\r\n  static setAttr($ele, name, value) {\r\n    if (!$ele) {\r\n      return;\r\n    }\r\n\r\n    $ele.setAttribute(name, value);\r\n  }\r\n\r\n  /**\r\n   * @param {HTMLElement} $from\r\n   * @param {HTMLElement} $to\r\n   * @param {string[]} attrList\r\n   * @param {string[]} valueLessProps\r\n   */\r\n  static setAttrFromEle($from, $to, attrList, valueLessProps) {\r\n    /** @type {any} */\r\n    const values = {};\r\n\r\n    attrList.forEach((attr) => {\r\n      values[attr] = $from.getAttribute(attr);\r\n    });\r\n\r\n    attrList.forEach((attr) => {\r\n      const value = values[attr];\r\n\r\n      if (value || (valueLessProps.indexOf(attr) !== -1 && value === '')) {\r\n        $to.setAttribute(attr, value);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @param {HTMLElement} $ele\r\n   * @param {string} name\r\n   * @param {string} value\r\n   */\r\n  static setStyle($ele, name, value) {\r\n    if (!$ele) {\r\n      return;\r\n    }\r\n\r\n    // @ts-ignore\r\n    // eslint-disable-next-line no-param-reassign\r\n    $ele.style[name] = value;\r\n  }\r\n\r\n  /**\r\n   * @param {HTMLElement} $ele\r\n   * @param {any} props\r\n   */\r\n  static setStyles($ele, props) {\r\n    if (!$ele || !props) {\r\n      return;\r\n    }\r\n\r\n    Object.keys(props).forEach((name) => {\r\n      // @ts-ignore\r\n      // eslint-disable-next-line no-param-reassign\r\n      $ele.style[name] = props[name];\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @param {HTMLElement} $ele\r\n   * @param {string} name\r\n   * @param {string} value\r\n   */\r\n  static setAria($ele, name, value) {\r\n    if (!$ele) {\r\n      return;\r\n    }\r\n    let attrName = name;\r\n\r\n    if (attrName !== 'role') {\r\n      attrName = `aria-${attrName}`;\r\n    }\r\n\r\n    $ele.setAttribute(attrName, value);\r\n  }\r\n\r\n  /**\r\n   * @param {any} $ele\r\n   * @returns {any[]}\r\n   */\r\n  static getElements($ele) {\r\n    if (!$ele) {\r\n      return [];\r\n    }\r\n\r\n    return $ele.forEach === undefined ? [$ele] : $ele;\r\n  }\r\n\r\n  /**\r\n   * @static\r\n   * @param {string} [$selector='']\r\n   * @param {*} [$parentEle=undefined]\r\n   * @return {*}\r\n   * @memberof DomUtils\r\n   */\r\n  static getElementsBySelector($selector = '', $parentEle = undefined) {\r\n    let elements;\r\n    const parent = $parentEle !== undefined ? $parentEle : document;\r\n\r\n    if ($selector !== '') {\r\n      elements = parent.querySelectorAll($selector);\r\n    }\r\n\r\n    return elements !== undefined ? Array.from(elements) : [];\r\n  }\r\n\r\n  /**\r\n   * @param {HTMLElement} $ele\r\n   * @param {string} events\r\n   * @param {Function} callback\r\n   */\r\n  static addEvent($ele, events, callback) {\r\n    if (!$ele) {\r\n      return;\r\n    }\r\n\r\n    const eventsArray = Utils.removeArrayEmpty(events.split(' '));\r\n\r\n    eventsArray.forEach((event) => {\r\n      const $eleArray = DomUtils.getElements($ele);\r\n\r\n      $eleArray.forEach(($this) => {\r\n        $this.addEventListener(event, callback);\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @param {HTMLElement} $ele\r\n   * @param {string} eventName\r\n   * @param {boolean} [bubbles]\r\n   */\r\n  static dispatchEvent($ele, eventName, bubbles = false) {\r\n    if (!$ele) {\r\n      return;\r\n    }\r\n\r\n    const $eleArray = DomUtils.getElements($ele);\r\n\r\n    /** using setTimeout to trigger asynchronous event */\r\n    setTimeout(() => {\r\n      $eleArray.forEach(($this) => {\r\n        $this.dispatchEvent(new CustomEvent(eventName, { bubbles }));\r\n      });\r\n    }, 0);\r\n  }\r\n\r\n  /**\r\n   * convert object to dom attributes\r\n   * @param {ObjectString} data\r\n   */\r\n  static getAttributesText(data) {\r\n    let html = '';\r\n\r\n    if (!data) {\r\n      return html;\r\n    }\r\n\r\n    // @ts-ignore\r\n    Object.entries(data).forEach(([k, v]) => {\r\n      if (v !== undefined) {\r\n        html += ` ${k}=\"${v}\" `;\r\n      }\r\n    });\r\n\r\n    return html;\r\n  }\r\n\r\n  /**\r\n   * convert \"maxValue\" to \"data-max-value\"\r\n   * @param {string} prop\r\n   */\r\n  static convertPropToDataAttr(prop) {\r\n    return prop ? `data-${prop}`.replace(/([A-Z])/g, '-$1').toLowerCase() : '';\r\n  }\r\n\r\n  /**\r\n   * Changes the tab index of an element passed as an input\r\n   * @static\r\n   * @param {HTMLElement | NodeListOf<HTMLElement>} $ele\r\n   * @param {number} newTabIndex\r\n   * @memberof DomUtils\r\n   */\r\n  static changeTabIndex($ele, newTabIndex) {\r\n    if (!$ele) {\r\n      // eslint-disable-next-line no-console\r\n      console.log($ele, 'Invalid element provided.');\r\n      return;\r\n    }\r\n\r\n    DomUtils.getElements($ele).forEach(($this) => {\r\n      // eslint-disable-next-line no-param-reassign\r\n      $this.tabIndex = newTabIndex;\r\n    });\r\n  }\r\n\r\n  /**\r\n * @param {HTMLElement} $ele\r\n * @param {string} event\r\n * @param {Function} callback\r\n */\r\n  static removeEvent($ele, event, callback) {\r\n    if (!$ele) {\r\n      return;\r\n    }\r\n\r\n    const $eleArray = DomUtils.getElements($ele);\r\n\r\n    $eleArray.forEach(($this) => {\r\n      $this.removeEventListener(event, callback);\r\n    });\r\n  }\r\n}\r\n","export class Utils {\r\n  /**\r\n   * @param {any} text\r\n   * @returns {string}\r\n   * @memberof Utils\r\n   */\r\n  static getString(text) {\r\n    return text || text === 0 ? text.toString() : '';\r\n  }\r\n\r\n  /**\r\n   * @param {any} value\r\n   * @param {boolean} defaultValue\r\n   * @returns {boolean}\r\n   * @memberof Utils\r\n   */\r\n  static convertToBoolean(value, defaultValue = false) {\r\n    let result;\r\n\r\n    if (value === true || value === 'true') {\r\n      result = true;\r\n    } else if (value === false || value === 'false') {\r\n      result = false;\r\n    } else {\r\n      result = defaultValue;\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * @param {any} value\r\n   * @returns {boolean}\r\n   * @memberof Utils\r\n   */\r\n  static isEmpty(value) {\r\n    let result = false;\r\n\r\n    if (!value) {\r\n      result = true;\r\n    } else if (Array.isArray(value)) {\r\n      if (value.length === 0) {\r\n        result = true;\r\n      }\r\n    } else if (typeof value === 'object' && Object.keys(value).length === 0) {\r\n      result = true;\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * @param {any} value\r\n   * @returns {boolean}\r\n   * @memberof Utils\r\n   */\r\n  static isNotEmpty(value) {\r\n    return !Utils.isEmpty(value);\r\n  }\r\n\r\n  /**\r\n   * Normalizes values by converting booleans to strings while preserving other types\r\n   * Handles both single values and arrays efficiently\r\n   * @param {*} value - The value to normalize\r\n   * @return {*} - Normalized value(s)\r\n   * @memberof Utils\r\n   */\r\n  static normalizeValues(value) {\r\n    // Fast path for arrays\r\n    if (Array.isArray(value)) {\r\n      const result = new Array(value.length);\r\n      for (let i = 0; i < value.length; i += 1) {\r\n        const v = value[i];\r\n        if (v === true) {\r\n          result[i] = 'true';\r\n        } else if (v === false) {\r\n          result[i] = 'false';\r\n        } else {\r\n          result[i] = v;\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n\r\n    // Handle single values\r\n    if (value === true) {\r\n      return 'true';\r\n    }\r\n    if (value === false) {\r\n      return 'false';\r\n    }\r\n    return value;\r\n  }\r\n\r\n  /**\r\n   * @param {any[]} array\r\n   * @param {any} value\r\n   * @param {boolean} cloneArray\r\n   * @returns {any[]}\r\n   * @memberof Utils\r\n   */\r\n  static removeItemFromArray(array, value, cloneArray = false) {\r\n    if (!Array.isArray(array) || !array.length) {\r\n      return array;\r\n    }\r\n\r\n    const inputArr = cloneArray ? [...array] : array;\r\n    const index = inputArr.indexOf(value);\r\n\r\n    if (index !== -1) {\r\n      inputArr.splice(index, 1);\r\n    }\r\n\r\n    return inputArr;\r\n  }\r\n\r\n  /**\r\n   * @param {any[]} array\r\n   * @returns {any[]}\r\n   * @memberof Utils\r\n   */\r\n  static removeArrayEmpty(array) {\r\n    if (!Array.isArray(array) || !array.length) {\r\n      return [];\r\n    }\r\n\r\n    return array.filter((d) => !!d);\r\n  }\r\n\r\n  /**\r\n   * @param {number} max\r\n   * @param {number} max\r\n   * @returns {number}\r\n   * @memberof Utils\r\n   */\r\n  static getRandomInt(max, min = 0) {\r\n    const minN = Math.ceil(min);\r\n    const maxN = Math.floor(max);\r\n\r\n    return Math.floor(Math.random() * (maxN - minN - 1)) + minN;\r\n  }\r\n\r\n  /**\r\n   * @param {string} text\r\n   * @return {string}\r\n   * @memberof Utils\r\n   */\r\n  static regexEscape(text) {\r\n    const ESC_REGEX = /[-/\\\\^$*+?.()|[\\]{}]/g;\r\n    return text.replace(ESC_REGEX, '\\\\$&');\r\n  }\r\n\r\n  /**\r\n   * @param {string} text\r\n   * @return {string}\r\n   * @memberof Utils\r\n   */\r\n  static normalizeString(text) {\r\n    const NON_WORD_REGEX = /[^\\w]/g;\r\n    return text.normalize('NFD').replace(NON_WORD_REGEX, '');\r\n  }\r\n\r\n  /**\r\n   * @static\r\n   * @param {*} container\r\n   * @param {string} text\r\n   * @return {boolean}\r\n   * @memberof Utils\r\n   */\r\n  static willTextOverflow(container, text) {\r\n    const tempElement = document.createElement('div');\r\n    tempElement.style.position = 'absolute';\r\n    tempElement.style.visibility = 'hidden';\r\n    tempElement.style.whiteSpace = 'nowrap';\r\n    tempElement.style.fontSize = window.getComputedStyle(container).fontSize;\r\n    tempElement.style.fontFamily = window.getComputedStyle(container).fontFamily;\r\n    tempElement.textContent = text;\r\n    document.body.appendChild(tempElement);\r\n    const textWidth = tempElement.clientWidth;\r\n    document.body.removeChild(tempElement);\r\n    return textWidth > container.clientWidth;\r\n  }\r\n\r\n  /**\r\n   * @static\r\n   * @param {string} text\r\n   * @return {string}\r\n   * @memberof Utils\r\n   */\r\n  static replaceDoubleQuotesWithHTML(text) {\r\n    return text.replace(/\"/g, '&quot;');\r\n  }\r\n\r\n  /**\r\n   * @static\r\n   * @param {string} text\r\n   * @return {boolean}\r\n   * @memberof Utils\r\n   */\r\n  static containsHTML(text) {\r\n    return /<[a-z][\\s\\S]*>/i.test(text);\r\n  }\r\n\r\n  /**\r\n   * @static\r\n   * @param {string} text\r\n   * @return {boolean}\r\n   * @memberof Utils\r\n   */\r\n  static containsHTMLorJS(text) {\r\n    return /<([a-z]+)[\\s\\S]*?>|on\\w+=\"[^\"]*\"/i.test(text);\r\n  }\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/* eslint-disable linebreak-style */\r\n/** cSpell:ignore nocheck, Labelledby, vscomp, tabindex, combobox, haspopup, listbox, activedescendant */\r\n/* eslint-disable class-methods-use-this */\r\n// @ts-nocheck\r\nimport { Utils, DomUtils } from './utils';\r\n\r\nconst dropboxCloseButtonFullHeight = 48;\r\nconst searchHeight = 40;\r\n\r\nconst keyDownMethodMapping = {\r\n  13: 'onEnterPress',\r\n  38: 'onUpArrowPress',\r\n  40: 'onDownArrowPress',\r\n  46: 'onBackspaceOrDeletePress', // Delete\r\n  8: 'onBackspaceOrDeletePress', // Backspace\r\n};\r\n\r\nconst valueLessProps = ['autofocus', 'disabled', 'multiple', 'required', 'read-only'];\r\n// eslint-disable-next-line max-len\r\nconst nativeProps = ['autofocus', 'class', 'disabled', 'id', 'multiple', 'name', 'placeholder', 'required', 'read-only'];\r\nlet attrPropsMapping;\r\n\r\nconst dataProps = [\r\n  'additionalClasses',\r\n  'additionalDropboxClasses',\r\n  'additionalDropboxContainerClasses',\r\n  'additionalToggleButtonClasses',\r\n  'aliasKey',\r\n  'allOptionsSelectedText',\r\n  'allowNewOption',\r\n  'alwaysShowSelectedOptionsCount',\r\n  'alwaysShowSelectedOptionsLabel',\r\n  'ariaLabelledby',\r\n  'ariaLabelText',\r\n  'ariaLabelClearButtonText',\r\n  'ariaLabelTagClearButtonText',\r\n  'ariaLabelSearchClearButtonText',\r\n  'autoSelectFirstOption',\r\n  'clearButtonText',\r\n  'descriptionKey',\r\n  'disableAllOptionsSelectedText',\r\n  'disableOptionGroupCheckbox',\r\n  'disableSelectAll',\r\n  'disableValidation',\r\n  'dropboxWidth',\r\n  'dropboxWrapper',\r\n  'emptyValue',\r\n  'enableSecureText',\r\n  'focusSelectedOptionOnOpen',\r\n  'hasOptionDescription',\r\n  'hideClearButton',\r\n  'hideValueTooltipOnSelectAll',\r\n  'keepAlwaysOpen',\r\n  'labelKey',\r\n  'markSearchResults',\r\n  'maxValues',\r\n  'maxWidth',\r\n  'minValues',\r\n  'moreText',\r\n  'noOfDisplayValues',\r\n  'noOptionsText',\r\n  'noSearchResultsText',\r\n  'optionHeight',\r\n  'optionSelectedText',\r\n  'optionsCount',\r\n  'optionsSelectedText',\r\n  'popupDropboxBreakpoint',\r\n  'popupPosition',\r\n  'position',\r\n  'search',\r\n  'searchByStartsWith',\r\n  'searchDelay',\r\n  'searchFormLabel',\r\n  'searchGroup',\r\n  'searchNormalize',\r\n  'searchPlaceholderText',\r\n  'selectAllOnlyVisible',\r\n  'selectAllText',\r\n  'setValueAsArray',\r\n  'showDropboxAsPopup',\r\n  'showOptionsOnlyOnSearch',\r\n  'showSelectedOptionsFirst',\r\n  'showValueAsTags',\r\n  'silentInitialValueSet',\r\n  'textDirection',\r\n  'tooltipAlignment',\r\n  'tooltipFontSize',\r\n  'tooltipMaxWidth',\r\n  'updatePositionThrottle',\r\n  'useGroupValue',\r\n  'valueKey',\r\n  'zIndex',\r\n  'hideSelectDisplayOnKeepAlwaysOpen', // Royale\r\n  'readOnly', // Royale\r\n];\r\n\r\n/** Class representing VirtualSelect */\r\nexport class VirtualSelect {\r\n  /**\r\n   * @param {virtualSelectOptions} options\r\n   */\r\n  constructor(options) {\r\n    try {\r\n      this.createSecureTextElements();\r\n      this.setProps(options);\r\n      this.setDisabledOptions(options.disabledOptions);\r\n      this.setOptions(options.options);\r\n      this.render();\r\n    } catch (e) {\r\n      // eslint-disable-next-line no-console\r\n      console.warn(\"Couldn't initiate Virtual Select\");\r\n      // eslint-disable-next-line no-console\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  /** render methods - start */\r\n  render() {\r\n    if (!this.$ele) {\r\n      return;\r\n    }\r\n\r\n    const { uniqueId } = this;\r\n    let wrapperClasses = 'vscomp-wrapper';\r\n    let toggleButtonClasses = 'vscomp-toggle-button';\r\n    const valueTooltip = this.showValueAsTags ? '' : this.getTooltipAttrText(this.placeholder, true, true);\r\n    const clearButtonTooltip = this.getTooltipAttrText(this.clearButtonText);\r\n    const ariaLabelledbyText = this.ariaLabelledby ? `aria-labelledby=\"${this.ariaLabelledby}\"` : '';\r\n    const ariaLabelText = this.ariaLabelText ? `aria-label=\"${this.ariaLabelText}\"` : '';\r\n    const ariaLabelClearBtnTxt = this.ariaLabelClearButtonText ? `aria-label=\"${this.ariaLabelClearButtonText}\"` : '';\r\n    let isExpanded = false;\r\n    // Royale\r\n    if (this.keepAlwaysOpen && this.hideSelectDisplayOnKeepAlwaysOpen) {\r\n      wrapperClasses += ' hide-select-display';\r\n    }\r\n    // fin Royale\r\n\r\n    if (this.additionalClasses) {\r\n      wrapperClasses += ` ${this.additionalClasses}`;\r\n    }\r\n\r\n    if (this.additionalToggleButtonClasses) {\r\n      toggleButtonClasses += ` ${this.additionalToggleButtonClasses}`;\r\n    }\r\n\r\n    if (this.multiple) {\r\n      wrapperClasses += ' multiple';\r\n\r\n      if (!this.disableSelectAll) {\r\n        wrapperClasses += ' has-select-all';\r\n      }\r\n    }\r\n\r\n    if (!this.hideClearButton) {\r\n      wrapperClasses += ' has-clear-button';\r\n    }\r\n\r\n    if (this.keepAlwaysOpen) {\r\n      wrapperClasses += ' keep-always-open';\r\n      isExpanded = true;\r\n    } else {\r\n      wrapperClasses += ' closed';\r\n    }\r\n\r\n    if (this.showAsPopup) {\r\n      wrapperClasses += ' show-as-popup';\r\n    }\r\n\r\n    if (this.hasSearch) {\r\n      wrapperClasses += ' has-search-input';\r\n    }\r\n\r\n    if (this.showValueAsTags) {\r\n      wrapperClasses += ' show-value-as-tags';\r\n    }\r\n\r\n    if (this.textDirection) {\r\n      wrapperClasses += ` text-direction-${this.textDirection}`;\r\n    }\r\n\r\n    if (this.popupPosition) {\r\n      wrapperClasses += ` popup-position-${this.popupPosition.toLowerCase()}`;\r\n    }\r\n\r\n    // eslint-disable-next-line no-trailing-spaces\r\n    const html = \r\n      `<div id=\"vscomp-ele-wrapper-${uniqueId}\" class=\"vscomp-ele-wrapper ${wrapperClasses}\" tabindex=\"0\"\r\n        role=\"combobox\" aria-haspopup=\"listbox\" aria-controls=\"vscomp-dropbox-container-${uniqueId}\"\r\n        aria-expanded=\"${isExpanded}\" ${ariaLabelledbyText} ${ariaLabelText}>\r\n        <input type=\"hidden\" name=\"${this.name}\" class=\"vscomp-hidden-input\">\r\n        <div class=\"${toggleButtonClasses}\">\r\n          <div class=\"vscomp-value\" ${valueTooltip}>\r\n            ${this.placeholder}\r\n          </div>\r\n          <div class=\"vscomp-arrow\"></div>\r\n          <div class=\"vscomp-clear-button toggle-button-child\" ${clearButtonTooltip} \r\n          tabindex=\"-1\" role=\"button\" ${ariaLabelClearBtnTxt}>\r\n            <i class=\"vscomp-clear-icon\"></i>\r\n          </div>\r\n        </div>\r\n\r\n        ${this.renderDropbox({ wrapperClasses })}\r\n      </div>`;\r\n\r\n    this.$ele.innerHTML = html;\r\n    this.$body = document.querySelector('body');\r\n    this.$wrapper = this.$ele.querySelector('.vscomp-wrapper');\r\n\r\n    if (this.hasDropboxWrapper) {\r\n      this.$allWrappers = [this.$wrapper, this.$dropboxWrapper];\r\n      this.$dropboxContainer = this.$dropboxWrapper.querySelector('.vscomp-dropbox-container');\r\n\r\n      DomUtils.addClass(this.$dropboxContainer, 'pop-comp-wrapper');\r\n    } else {\r\n      this.$allWrappers = [this.$wrapper];\r\n      this.$dropboxContainer = this.$wrapper.querySelector('.vscomp-dropbox-container');\r\n    }\r\n\r\n    this.$toggleButton = this.$ele.querySelector('.vscomp-toggle-button');\r\n    this.$clearButton = this.$ele.querySelector('.vscomp-clear-button');\r\n    this.$valueText = this.$ele.querySelector('.vscomp-value');\r\n    this.$hiddenInput = this.$ele.querySelector('.vscomp-hidden-input');\r\n    this.$dropbox = this.$dropboxContainer.querySelector('.vscomp-dropbox');\r\n    this.$dropboxCloseButton = this.$dropboxContainer.querySelector('.vscomp-dropbox-close-button');\r\n    this.$dropboxContainerBottom = this.$dropboxContainer.querySelector('.vscomp-dropbox-container-bottom');\r\n    this.$dropboxContainerTop = this.$dropboxContainer.querySelector('.vscomp-dropbox-container-top');\r\n    this.$search = this.$dropboxContainer.querySelector('.vscomp-search-wrapper');\r\n    this.$optionsContainer = this.$dropboxContainer.querySelector('.vscomp-options-container');\r\n    this.$optionsList = this.$dropboxContainer.querySelector('.vscomp-options-list');\r\n    this.$options = this.$dropboxContainer.querySelector('.vscomp-options');\r\n    this.$noOptions = this.$dropboxContainer.querySelector('.vscomp-no-options');\r\n    this.$noSearchResults = this.$dropboxContainer.querySelector('.vscomp-no-search-results');\r\n\r\n    this.afterRenderWrapper();\r\n  }\r\n\r\n  renderDropbox({ wrapperClasses }) {\r\n    const $wrapper = this.dropboxWrapper !== 'self' ? document.querySelector(this.dropboxWrapper) : null;\r\n    let dropboxClasses = 'vscomp-dropbox';\r\n\r\n    if (this.additionalDropboxClasses) {\r\n      dropboxClasses += ` ${this.additionalDropboxClasses}`;\r\n    }\r\n\r\n    let dropboxContainerClasses = 'vscomp-dropbox-container';\r\n\r\n    if (this.additionalDropboxContainerClasses) {\r\n      dropboxContainerClasses += ` ${this.additionalDropboxContainerClasses}`;\r\n    }\r\n\r\n    // eslint-disable-next-line no-trailing-spaces\r\n    const html =\r\n    `<div id=\"vscomp-dropbox-container-${this.uniqueId}\" role=\"listbox\" class=\"${dropboxContainerClasses}\">\r\n      <div class=\"vscomp-dropbox-container-top\" aria-hidden=\"true\" tabindex=\"-1\">&nbsp;</div>\r\n      <div class=\"${dropboxClasses}\">\r\n          <div class=\"vscomp-search-wrapper\"></div>\r\n\r\n          <div class=\"vscomp-options-container\">\r\n            <div class=\"vscomp-options-loader\"></div>\r\n\r\n            <div class=\"vscomp-options-list\">\r\n              <div class=\"vscomp-options\"></div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"vscomp-options-bottom-freezer\"></div>\r\n          <div class=\"vscomp-no-options\">${this.noOptionsText}</div>\r\n          <div class=\"vscomp-no-search-results\">${this.noSearchResultsText}</div>\r\n\r\n          <span class=\"vscomp-dropbox-close-button\"><i class=\"vscomp-clear-icon\"></i></span>\r\n        </div>\r\n        <div class=\"vscomp-dropbox-container-bottom\" aria-hidden=\"true\" tabindex=\"0\">&nbsp;</div>\r\n      </div>`;\r\n\r\n    if ($wrapper) {\r\n      const $dropboxWrapper = document.createElement('div');\r\n\r\n      this.$dropboxWrapper = $dropboxWrapper;\r\n      this.hasDropboxWrapper = true;\r\n      $dropboxWrapper.innerHTML = html;\r\n\r\n      $wrapper.appendChild($dropboxWrapper);\r\n      DomUtils.addClass($dropboxWrapper, `vscomp-dropbox-wrapper ${wrapperClasses}`);\r\n\r\n      if (!this.keepAlwaysOpen) {\r\n        DomUtils.setAttr($dropboxWrapper, 'tabindex', '-1');\r\n        DomUtils.setAria($dropboxWrapper, 'hidden', true);\r\n      }\r\n\r\n      return '';\r\n    }\r\n\r\n    this.hasDropboxWrapper = false;\r\n\r\n    return html;\r\n  }\r\n\r\n  renderOptions(isRenderingdOnScroll = false) {\r\n    let html = '';\r\n    const visibleOptions = this.getVisibleOptions();\r\n    let checkboxHtml = '';\r\n    let newOptionIconHtml = '';\r\n    const markSearchResults = !!(this.markSearchResults && this.searchValue);\r\n    let searchRegex;\r\n    const { labelRenderer, disableOptionGroupCheckbox, uniqueId, searchGroup } = this;\r\n    const hasLabelRenderer = typeof labelRenderer === 'function';\r\n    const { convertToBoolean } = Utils;\r\n    let groupName = '';\r\n\r\n    if (markSearchResults) {\r\n      searchRegex = new RegExp(`(${Utils.regexEscape(this.searchValue)})(?!([^<]+)?>)`, 'gi');\r\n    }\r\n\r\n    if (this.multiple) {\r\n      checkboxHtml = '<span class=\"checkbox-icon\"></span>';\r\n    }\r\n\r\n    if (this.allowNewOption) {\r\n      const newOptionTooltip = this.getTooltipAttrText('New Option');\r\n      newOptionIconHtml = `<span class=\"vscomp-new-option-icon\" ${newOptionTooltip}></span>`;\r\n    }\r\n\r\n    visibleOptions.forEach((d) => {\r\n      const { index } = d;\r\n      let optionLabel;\r\n      let optionClasses = 'vscomp-option';\r\n      const optionTooltip = this.getTooltipAttrText('', true, true);\r\n      let leftSection = checkboxHtml;\r\n      let rightSection = '';\r\n      let description = '';\r\n      let groupIndexText = '';\r\n      let ariaLabel = '';\r\n      let tabIndexValue = '-1';\r\n      const isSelected = convertToBoolean(d.isSelected);\r\n      let ariaDisabledText = '';\r\n\r\n      if (d.classNames) {\r\n        optionClasses += ` ${d.classNames}`;\r\n      }\r\n\r\n      if (d.isFocused) {\r\n        tabIndexValue = '0';\r\n        optionClasses += ' focused';\r\n      }\r\n\r\n      if (d.isDisabled) {\r\n        optionClasses += ' disabled';\r\n        ariaDisabledText = 'aria-disabled=\"true\"';\r\n      }\r\n\r\n      if (d.isGroupTitle) {\r\n        groupName = d.label;\r\n        optionClasses += ' group-title';\r\n\r\n        if (disableOptionGroupCheckbox) {\r\n          leftSection = '';\r\n        }\r\n      }\r\n\r\n      if (isSelected) {\r\n        optionClasses += ' selected';\r\n      }\r\n\r\n      if (d.isGroupOption) {\r\n        let optionDesc = '';\r\n\r\n        optionClasses += ' group-option';\r\n        groupIndexText = `data-group-index=\"${d.groupIndex}\"`;\r\n\r\n        if (d.customData) {\r\n          groupName = d.customData.group_name !== undefined ? `${d.customData.group_name}, ` : '';\r\n          optionDesc = d.customData.description !== undefined ? ` ${d.customData.description},` : '';\r\n\r\n          ariaLabel = `aria-label=\"${groupName} ${d.label}, ${optionDesc}\"`;\r\n        } else {\r\n          ariaLabel = `aria-label=\"${groupName}, ${d.label}\"`;\r\n        }\r\n      }\r\n\r\n      if (hasLabelRenderer) {\r\n        optionLabel = labelRenderer(d);\r\n      } else {\r\n        optionLabel = d.label;\r\n      }\r\n\r\n      if (d.description) {\r\n        description = `<div class=\"vscomp-option-description\" ${optionTooltip}>${d.description}</div>`;\r\n      }\r\n\r\n      if (d.isCurrentNew) {\r\n        optionClasses += ' current-new';\r\n        rightSection += newOptionIconHtml;\r\n      } else if (markSearchResults && (!d.isGroupTitle || searchGroup)) {\r\n        optionLabel = optionLabel.replace(searchRegex, '<mark>$1</mark>');\r\n      }\r\n\r\n      html += `<div role=\"option\" aria-selected=\"${isSelected}\" id=\"vscomp-option-${uniqueId}-${index}\"\r\n          class=\"${optionClasses}\" data-value=\"${d.value}\" data-index=\"${index}\" data-visible-index=\"${d.visibleIndex}\"\r\n          tabindex=${tabIndexValue} ${groupIndexText} ${ariaDisabledText} ${ariaLabel}\r\n        >\r\n          ${leftSection}\r\n          <span class=\"vscomp-option-text\" ${optionTooltip}>\r\n            ${optionLabel}\r\n          </span>\r\n          ${description}\r\n          ${rightSection}\r\n        </div>`;\r\n    });\r\n\r\n    groupName = '';\r\n\r\n    this.$options.innerHTML = html;\r\n    this.$visibleOptions = this.$options.querySelectorAll('.vscomp-option');\r\n\r\n    this.afterRenderOptions(isRenderingdOnScroll);\r\n  }\r\n\r\n  renderSearch() {\r\n    if (!this.hasSearchContainer) {\r\n      return;\r\n    }\r\n\r\n    let checkboxHtml = '';\r\n    let searchInput = '';\r\n\r\n    if (this.multiple && !this.disableSelectAll) {\r\n      checkboxHtml = `<span class=\"vscomp-toggle-all-button\" tabindex=\"0\" aria-label=\"${this.selectAllText}\">\r\n          <span class=\"checkbox-icon vscomp-toggle-all-checkbox\"></span>\r\n          <span class=\"vscomp-toggle-all-label\">${this.selectAllText}</span>\r\n        </span>`;\r\n    }\r\n\r\n    if (this.hasSearch) {\r\n      const ariaLabelSearchClearBtnTxt = this.ariaLabelSearchClearButtonText\r\n        ? `aria-label=\"${this.ariaLabelSearchClearButtonText}\"`\r\n        : '';\r\n\r\n      searchInput = `<label for=\"vscomp-search-input-${this.uniqueId}\" class=\"vscomp-search-label\"\r\n        id=\"vscomp-search-label-${this.uniqueId}\"\r\n      >\r\n        ${this.searchFormLabel}\r\n      </label>\r\n      <input type=\"text\" class=\"vscomp-search-input\" placeholder=\"${this.searchPlaceholderText}\"\r\n        id=\"vscomp-search-input-${this.uniqueId}\">\r\n      <span class=\"vscomp-search-clear\" role=\"button\" ${ariaLabelSearchClearBtnTxt}>&times;</span>`;\r\n    }\r\n\r\n    const html = `<div class=\"vscomp-search-container\">\r\n        ${checkboxHtml}\r\n        ${searchInput}\r\n      </div>`;\r\n\r\n    this.$search.innerHTML = html;\r\n    this.$searchInput = this.$dropboxContainer.querySelector('.vscomp-search-input');\r\n    this.$searchClear = this.$dropboxContainer.querySelector('.vscomp-search-clear');\r\n    this.$toggleAllButton = this.$dropboxContainer.querySelector('.vscomp-toggle-all-button');\r\n    this.$toggleAllCheckbox = this.$dropboxContainer.querySelector('.vscomp-toggle-all-checkbox');\r\n\r\n    this.addEvent(this.$searchInput, 'input', 'onSearch');\r\n    // Prevents the change event from bubbling and triggering the main onChange handler twice.\r\n    this.addEvent(this.$searchInput, 'change', 'preventPropagation');\r\n    this.addEvent(this.$searchClear, 'click keydown', 'onSearchClear');\r\n    this.addEvent(this.$toggleAllButton, 'click', 'onToggleAllOptions');\r\n    this.addEvent(this.$dropboxContainerBottom, 'focus', 'onDropboxContainerTopOrBottomFocus');\r\n    this.addEvent(this.$dropboxContainerTop, 'focus', 'onDropboxContainerTopOrBottomFocus');\r\n  }\r\n  /** render methods - end */\r\n\r\n  /** dom event methods - start */\r\n  addEvents() {\r\n    this.addEvent(document, 'click', 'onDocumentClick');\r\n    this.addEvent(this.$allWrappers, 'keydown', 'onKeyDown');\r\n    this.addEvent(this.$toggleButton, 'click keydown', 'onToggleButtonPress');\r\n    this.addEvent(this.$clearButton, 'click keydown', 'onClearButtonClick');\r\n    this.addEvent(this.$dropboxContainer, 'click', 'onDropboxContainerClick');\r\n    this.addEvent(this.$dropboxCloseButton, 'click', 'onDropboxCloseButtonClick');\r\n    this.addEvent(this.$optionsContainer, 'scroll', 'onOptionsScroll');\r\n    this.addEvent(this.$options, 'click', 'onOptionsClick');\r\n    this.addEvent(this.$options, 'mouseover', 'onOptionsMouseOver');\r\n    this.addEvent(this.$options, 'touchmove', 'onOptionsTouchMove');\r\n    this.addMutationObserver();\r\n  }\r\n\r\n  addEvent($ele, events, method) {\r\n    if (!$ele) {\r\n      return;\r\n    }\r\n\r\n    const eventsArray = Utils.removeArrayEmpty(events.split(' '));\r\n\r\n    eventsArray.forEach((event) => {\r\n      const eventsKey = `${method}-${event}`;\r\n      let callback = this.events[eventsKey];\r\n\r\n      if (!callback) {\r\n        callback = this[method].bind(this);\r\n        this.events[eventsKey] = callback;\r\n      }\r\n\r\n      DomUtils.addEvent($ele, event, callback);\r\n    });\r\n  }\r\n\r\n  /** dom event methods - start */\r\n  removeEvents() {\r\n    this.removeEvent(document, 'click', 'onDocumentClick');\r\n    this.removeEvent(this.$allWrappers, 'keydown', 'onKeyDown');\r\n    this.removeEvent(this.$toggleButton, 'click keydown', 'onToggleButtonPress');\r\n    this.removeEvent(this.$clearButton, 'click keydown', 'onClearButtonClick');\r\n    this.removeEvent(this.$dropboxContainer, 'click', 'onDropboxContainerClick');\r\n    this.removeEvent(this.$dropboxCloseButton, 'click', 'onDropboxCloseButtonClick');\r\n    this.removeEvent(this.$optionsContainer, 'scroll', 'onOptionsScroll');\r\n    this.removeEvent(this.$options, 'click', 'onOptionsClick');\r\n    this.removeEvent(this.$options, 'mouseover', 'onOptionsMouseOver');\r\n    this.removeEvent(this.$options, 'touchmove', 'onOptionsTouchMove');\r\n    this.removeMutationObserver();\r\n  }\r\n\r\n  removeEvent($ele, events, method) {\r\n    if (!$ele) {\r\n      return;\r\n    }\r\n\r\n    const eventsArray = Utils.removeArrayEmpty(events.split(' '));\r\n\r\n    eventsArray.forEach((event) => {\r\n      const eventsKey = `${method}-${event}`;\r\n      const callback = this.events[eventsKey];\r\n\r\n      if (callback) {\r\n        DomUtils.removeEvent($ele, event, callback);\r\n      }\r\n    });\r\n  }\r\n\r\n  onDocumentClick(e) {\r\n    const $clickedEle = e.target.closest('.vscomp-wrapper');\r\n\r\n    // Close all if clicking outside any dropdown\r\n    if (!$clickedEle) {\r\n      VirtualSelect.openInstances.forEach((instance) => {\r\n        // Don't focus when closing due to clicking outside\r\n        const instanceObj = instance;\r\n        instanceObj.shouldFocusWrapperOnClose = false;\r\n        instanceObj.closeDropbox();\r\n      });\r\n      return;\r\n    }\r\n\r\n    // If clicking a different dropdown, close current one\r\n    const clickedInstance = $clickedEle.parentElement.virtualSelect;\r\n    if (clickedInstance && clickedInstance !== this && this.isOpened() && !this.keepAlwaysOpen) {\r\n      // Don't focus when closing due to another dropdown being opened\r\n      this.shouldFocusWrapperOnClose = false;\r\n      this.closeDropbox();\r\n    }\r\n  }\r\n\r\n  onKeyDown(e) {\r\n    const key = e.which || e.keyCode;\r\n    const method = keyDownMethodMapping[key];\r\n\r\n    if (document.activeElement === this.$searchInput && (!e.shiftKey && key === 9) && !this.multiple) {\r\n      e.preventDefault();\r\n      this.focusFirstVisibleOption();\r\n    }\r\n\r\n    if (document.activeElement === this.$toggleAllButton && key === 13) {\r\n      this.toggleAllOptions();\r\n      return;\r\n    }\r\n\r\n    // Handle the Escape key when showing the dropdown as a popup, closing it\r\n    if (key === 27 || e.key === 'Escape') {\r\n      const wrapper = this.showAsPopup ? this.$wrapper : this.$dropboxWrapper;\r\n      if (\r\n        wrapper &&\r\n        (document.activeElement === wrapper || wrapper.contains(document.activeElement)) &&\r\n        !this.keepAlwaysOpen\r\n      ) {\r\n        this.closeDropbox();\r\n        return;\r\n      }\r\n    }\r\n\r\n    if (method) {\r\n      this[method](e);\r\n    }\r\n  }\r\n\r\n  onEnterPress(e) {\r\n    e.preventDefault();\r\n\r\n    if (this.isOpened()) {\r\n      this.selectFocusedOption();\r\n    } else if (this.$ele.disabled === false) {\r\n      this.openDropbox();\r\n    }\r\n  }\r\n\r\n  onDownArrowPress(e) {\r\n    // Allow default behavior (cursor movement) when search input is focused\r\n    if (document.activeElement === this.$searchInput) {\r\n      return;\r\n    }\r\n    e.preventDefault();\r\n\r\n    if (this.isOpened()) {\r\n      this.focusOption({ direction: 'next' });\r\n    } else {\r\n      this.openDropbox();\r\n    }\r\n  }\r\n\r\n  onUpArrowPress(e) {\r\n    // Allow default behavior (cursor movement) when search input is focused\r\n    if (document.activeElement === this.$searchInput) {\r\n      return;\r\n    }\r\n    e.preventDefault();\r\n\r\n    if (this.isOpened()) {\r\n      this.focusOption({ direction: 'previous' });\r\n    } else {\r\n      this.openDropbox();\r\n    }\r\n  }\r\n\r\n  onBackspaceOrDeletePress(e) {\r\n    if (e.target === this.$wrapper) {\r\n      e.preventDefault();\r\n      if (this.selectedValues.length > 0) {\r\n        this.reset();\r\n      }\r\n    }\r\n  }\r\n\r\n  onToggleButtonPress(e) {\r\n    if (e.type === 'keydown') {\r\n      e.preventDefault();\r\n      if (e.code !== 'Enter' && e.code !== 'Space') return;\r\n    }\r\n\r\n    const $target = e.target;\r\n\r\n    if ($target.closest('.vscomp-value-tag-clear-button')) {\r\n      e.stopPropagation();\r\n      this.removeValue($target.closest('.vscomp-value-tag'));\r\n      return;\r\n    }\r\n\r\n    if (!$target.closest('.toggle-button-child')) {\r\n      // Let the event bubble normally\r\n      this.toggleDropbox();\r\n    }\r\n  }\r\n\r\n  onClearButtonClick(e) {\r\n    if (e.type === 'click') {\r\n      this.reset();\r\n    } else if (e.type === 'keydown' && (e.code === 'Enter' || e.code === 'Space')) {\r\n      e.stopPropagation();\r\n      this.reset();\r\n    }\r\n  }\r\n\r\n  onOptionsScroll() {\r\n    this.setVisibleOptions(true);\r\n  }\r\n\r\n  onOptionsClick(e) {\r\n    const $option = e.target.closest('.vscomp-option');\r\n\r\n    if ($option && !DomUtils.hasClass($option, 'disabled')) {\r\n      if (DomUtils.hasClass($option, 'group-title')) {\r\n        this.onGroupTitleClick($option);\r\n      } else {\r\n        this.selectOption($option, { event: e });\r\n      }\r\n    }\r\n  }\r\n\r\n  onGroupTitleClick($ele) {\r\n    if (!$ele || !this.multiple || this.disableOptionGroupCheckbox) {\r\n      return;\r\n    }\r\n\r\n    const isAdding = !DomUtils.hasClass($ele, 'selected');\r\n\r\n    this.toggleGroupTitleCheckbox($ele, isAdding);\r\n    this.toggleGroupOptions($ele, isAdding);\r\n  }\r\n\r\n  onDropboxContainerClick(e) {\r\n    if (!e.target.closest('.vscomp-dropbox')) {\r\n      this.closeDropbox();\r\n    }\r\n  }\r\n\r\n  onDropboxCloseButtonClick() {\r\n    this.closeDropbox();\r\n  }\r\n\r\n  onOptionsMouseOver(e) {\r\n    const $ele = e.target.closest('.vscomp-option');\r\n\r\n    if ($ele && this.isOpened()) {\r\n      if (DomUtils.hasClass($ele, 'disabled') || DomUtils.hasClass($ele, 'group-title')) {\r\n        this.removeOptionFocus();\r\n      } else {\r\n        this.focusOption({ $option: $ele });\r\n      }\r\n    }\r\n  }\r\n\r\n  onOptionsTouchMove() {\r\n    this.removeOptionFocus();\r\n  }\r\n\r\n  onSearch(e) {\r\n    e.stopPropagation();\r\n    this.setSearchValue(e.target.value, true);\r\n  }\r\n\r\n  preventPropagation(e) {\r\n    e.stopPropagation();\r\n  }\r\n\r\n  onSearchClear(e) {\r\n    e.stopPropagation();\r\n    if (e.code === 'Enter' || e.code === 'Space' || e.type === 'click') {\r\n      this.setSearchValue('');\r\n      this.focusSearchInput();\r\n    }\r\n  }\r\n\r\n  onToggleAllOptions() {\r\n    this.toggleAllOptions();\r\n  }\r\n\r\n  onDropboxContainerTopOrBottomFocus() {\r\n    this.closeDropbox();\r\n  }\r\n\r\n  onResize() {\r\n    // Royale\r\n    if (this.showDropboxAsPopup && !this.keepAlwaysOpen) {\r\n      const newvalue = window.innerWidth <= parseFloat(this.popupDropboxBreakpoint);\r\n\r\n      if (newvalue !== this.showAsPopup) {\r\n        this.showAsPopup = newvalue;\r\n        this.optionsCount = this.getOptionsCount(this.optionsCountInit);\r\n        this.halfOptionsCount = Math.ceil(this.optionsCount / 2);\r\n        this.optionsHeight = this.getOptionsHeight();\r\n\r\n        if (this.hasDropboxWrapper) {\r\n          this.$dropboxWrapper.remove();\r\n          this.mutationObserver.disconnect();\r\n        }\r\n\r\n        if (this.dropboxPopover) {\r\n          this.dropboxPopover.destroy();\r\n        }\r\n\r\n        this.render();\r\n        this.setValue(this.selectedValues, { disableEvent: true, disableValidation: true });\r\n        return;\r\n      }\r\n    }\r\n    // End Royale\r\n\r\n    this.setOptionsContainerHeight(true);\r\n  }\r\n\r\n  /** to remove dropboxWrapper on removing vscomp-ele when it is rendered outside of vscomp-ele */\r\n  addMutationObserver() {\r\n    if (!this.hasDropboxWrapper) {\r\n      return;\r\n    }\r\n\r\n    const $vscompEle = this.$ele;\r\n\r\n    this.mutationObserver = new MutationObserver((mutations) => {\r\n      let isAdded = false;\r\n      let isRemoved = false;\r\n\r\n      mutations.forEach((mutation) => {\r\n        if (!isAdded) {\r\n          isAdded = [...mutation.addedNodes].some(($ele) => !!($ele === $vscompEle || $ele.contains($vscompEle)));\r\n        }\r\n\r\n        if (!isRemoved) {\r\n          isRemoved = [...mutation.removedNodes].some(($ele) => !!($ele === $vscompEle || $ele.contains($vscompEle)));\r\n        }\r\n      });\r\n\r\n      if (isRemoved && !isAdded) {\r\n        this.destroy();\r\n      }\r\n    });\r\n\r\n    this.mutationObserver.observe(document.querySelector('body'), { childList: true, subtree: true });\r\n  }\r\n\r\n  removeMutationObserver() {\r\n    if (this.hasDropboxWrapper) {\r\n      this.mutationObserver.disconnect();\r\n    }\r\n  }\r\n\r\n  /** dom event methods - end */\r\n  /** before event methods - start */\r\n  beforeValueSet(isReset) {\r\n    this.toggleAllOptionsClass(isReset ? false : undefined);\r\n  }\r\n\r\n  beforeSelectNewValue() {\r\n    const newOption = this.getNewOption();\r\n    const newIndex = newOption.index;\r\n\r\n    this.newValues.push(newOption.value);\r\n    this.setOptionProp(newIndex, 'isCurrentNew', false);\r\n    this.setOptionProp(newIndex, 'isNew', true);\r\n\r\n    /** using setTimeout to fix the issue of dropbox getting closed on select */\r\n    setTimeout(() => {\r\n      this.setSearchValue('');\r\n      this.focusSearchInput();\r\n    }, 0);\r\n  }\r\n  /** before event methods - end */\r\n\r\n  /** after event methods - start */\r\n  afterRenderWrapper() {\r\n    DomUtils.addClass(this.$ele, 'vscomp-ele');\r\n\r\n    this.renderSearch();\r\n    this.setEleStyles();\r\n    this.setDropboxStyles();\r\n    this.setOptionsHeight();\r\n    this.setVisibleOptions();\r\n    this.setOptionsContainerHeight();\r\n    this.addEvents();\r\n    this.setEleProps();\r\n\r\n    if (!this.keepAlwaysOpen && !this.showAsPopup) {\r\n      this.initDropboxPopover();\r\n    }\r\n\r\n    if (this.initialSelectedValue) {\r\n      this.setValueMethod(this.initialSelectedValue, this.silentInitialValueSet);\r\n    } else if (this.autoSelectFirstOption && this.visibleOptions.length) {\r\n      this.setValueMethod(this.visibleOptions[0].value, this.silentInitialValueSet);\r\n    }\r\n\r\n    if (this.showOptionsOnlyOnSearch) {\r\n      this.setSearchValue('', false, true);\r\n    }\r\n\r\n    if (this.initialDisabled) {\r\n      this.disable();\r\n    }\r\n    // Royale\r\n    if (this.initialReadOnly) {\r\n      this.setReadOnly(this.initialReadOnly);\r\n    }\r\n    // Fin Royale\r\n    if (this.autofocus) {\r\n      this.focus();\r\n    }\r\n  }\r\n\r\n  afterRenderOptions(hasRenderedOnScroll = false) {\r\n    const visibleOptions = this.getVisibleOptions();\r\n    const hasNoOptions = !this.options.length && !this.hasServerSearch;\r\n    const hasNoSearchResults = !hasNoOptions && !visibleOptions.length;\r\n\r\n    if (!this.allowNewOption || this.hasServerSearch || this.showOptionsOnlyOnSearch) {\r\n      DomUtils.toggleClass(this.$allWrappers, 'has-no-search-results', hasNoSearchResults);\r\n      if (hasNoSearchResults) {\r\n        DomUtils.setAttr(this.$noSearchResults, 'tabindex', '0');\r\n        DomUtils.setAttr(this.$noSearchResults, 'aria-hidden', 'false');\r\n      } else {\r\n        DomUtils.setAttr(this.$noSearchResults, 'tabindex', '-1');\r\n        DomUtils.setAttr(this.$noSearchResults, 'aria-hidden', 'true');\r\n      }\r\n    }\r\n\r\n    DomUtils.toggleClass(this.$allWrappers, 'has-no-options', hasNoOptions);\r\n    if (hasNoOptions) {\r\n      DomUtils.setAttr(this.$noOptions, 'tabindex', '0');\r\n      DomUtils.setAttr(this.$noOptions, 'aria-hidden', 'false');\r\n    } else {\r\n      DomUtils.setAttr(this.$noOptions, 'tabindex', '-1');\r\n      DomUtils.setAttr(this.$noOptions, 'aria-hidden', 'true');\r\n    }\r\n\r\n    this.setOptionAttr();\r\n    this.setOptionsPosition();\r\n    this.setOptionsTooltip();\r\n\r\n    if (document.activeElement !== this.$searchInput && hasRenderedOnScroll === false) {\r\n      const focusedOption = DomUtils.getElementsBySelector('.focused', this.$dropboxContainer)[0];\r\n      if (focusedOption !== undefined) {\r\n        focusedOption.focus();\r\n      }\r\n    }\r\n  }\r\n\r\n  afterSetOptionsContainerHeight(reset) {\r\n    if (reset && this.showAsPopup) {\r\n      this.setVisibleOptions();\r\n    }\r\n  }\r\n\r\n  afterSetSearchValue() {\r\n    if (this.hasServerSearch) {\r\n      clearInterval(this.serverSearchTimeout);\r\n\r\n      this.serverSearchTimeout = setTimeout(() => {\r\n        this.serverSearch();\r\n      }, this.searchDelay);\r\n    } else {\r\n      this.setVisibleOptionsCount();\r\n    }\r\n\r\n    if (this.selectAllOnlyVisible) {\r\n      this.toggleAllOptionsClass();\r\n    }\r\n\r\n    this.focusOption({ focusFirst: true });\r\n  }\r\n\r\n  afterSetVisibleOptionsCount() {\r\n    this.scrollToTop();\r\n    this.setOptionsHeight();\r\n    this.setVisibleOptions();\r\n    this.updatePosition();\r\n  }\r\n\r\n  afterValueSet() {\r\n    this.scrollToTop();\r\n    this.setSearchValue('');\r\n    this.renderOptions();\r\n  }\r\n\r\n  afterSetOptions(keepValue) {\r\n    if (keepValue) {\r\n      this.setSelectedProp();\r\n    }\r\n\r\n    this.setOptionsHeight();\r\n    this.setVisibleOptions();\r\n\r\n    if (this.showOptionsOnlyOnSearch) {\r\n      this.setSearchValue('', false, true);\r\n    }\r\n\r\n    if (!keepValue) {\r\n      this.reset();\r\n    }\r\n  }\r\n  /** after event methods - end */\r\n\r\n  /** set methods - start */\r\n  /**\r\n   * @param {virtualSelectOptions} params\r\n   */\r\n  setProps(params) {\r\n    const options = this.setDefaultProps(params);\r\n    this.setPropsFromElementAttr(options);\r\n\r\n    const { convertToBoolean } = Utils;\r\n\r\n    this.$ele = options.ele;\r\n    this.dropboxWrapper = options.dropboxWrapper;\r\n    this.valueKey = options.valueKey;\r\n    this.labelKey = options.labelKey;\r\n    this.descriptionKey = options.descriptionKey;\r\n    this.aliasKey = options.aliasKey;\r\n    this.optionHeightText = options.optionHeight;\r\n    this.optionHeight = parseFloat(this.optionHeightText);\r\n    this.multiple = convertToBoolean(options.multiple);\r\n    this.hasSearch = convertToBoolean(options.search);\r\n    this.searchByStartsWith = convertToBoolean(options.searchByStartsWith);\r\n    this.searchGroup = convertToBoolean(options.searchGroup);\r\n    this.hideClearButton = convertToBoolean(options.hideClearButton);\r\n    this.autoSelectFirstOption = convertToBoolean(options.autoSelectFirstOption);\r\n    this.hasOptionDescription = convertToBoolean(options.hasOptionDescription);\r\n    this.silentInitialValueSet = convertToBoolean(options.silentInitialValueSet);\r\n    this.allowNewOption = convertToBoolean(options.allowNewOption);\r\n    this.markSearchResults = convertToBoolean(options.markSearchResults);\r\n    this.showSelectedOptionsFirst = convertToBoolean(options.showSelectedOptionsFirst);\r\n    this.disableSelectAll = convertToBoolean(options.disableSelectAll);\r\n    this.keepAlwaysOpen = convertToBoolean(options.keepAlwaysOpen);\r\n    this.showDropboxAsPopup = convertToBoolean(options.showDropboxAsPopup);\r\n    this.hideValueTooltipOnSelectAll = convertToBoolean(options.hideValueTooltipOnSelectAll);\r\n    this.showOptionsOnlyOnSearch = convertToBoolean(options.showOptionsOnlyOnSearch);\r\n    this.selectAllOnlyVisible = convertToBoolean(options.selectAllOnlyVisible);\r\n    this.alwaysShowSelectedOptionsCount = convertToBoolean(options.alwaysShowSelectedOptionsCount);\r\n    this.alwaysShowSelectedOptionsLabel = convertToBoolean(options.alwaysShowSelectedOptionsLabel);\r\n    this.disableAllOptionsSelectedText = convertToBoolean(options.disableAllOptionsSelectedText);\r\n    this.showValueAsTags = convertToBoolean(options.showValueAsTags);\r\n    this.disableOptionGroupCheckbox = convertToBoolean(options.disableOptionGroupCheckbox);\r\n    this.enableSecureText = convertToBoolean(options.enableSecureText);\r\n    this.setValueAsArray = convertToBoolean(options.setValueAsArray);\r\n    this.disableValidation = convertToBoolean(options.disableValidation);\r\n    this.initialDisabled = convertToBoolean(options.disabled);\r\n    this.required = convertToBoolean(options.required);\r\n    this.autofocus = convertToBoolean(options.autofocus);\r\n    this.useGroupValue = convertToBoolean(options.useGroupValue);\r\n    this.focusSelectedOptionOnOpen = convertToBoolean(options.focusSelectedOptionOnOpen);\r\n    this.noOptionsText = options.noOptionsText;\r\n    this.noSearchResultsText = options.noSearchResultsText;\r\n    this.selectAllText = options.selectAllText;\r\n    this.searchNormalize = options.searchNormalize;\r\n    this.searchPlaceholderText = options.searchPlaceholderText;\r\n    this.searchFormLabel = options.searchFormLabel;\r\n    this.optionsSelectedText = options.optionsSelectedText;\r\n    this.optionSelectedText = options.optionSelectedText;\r\n    this.allOptionsSelectedText = options.allOptionsSelectedText;\r\n    this.clearButtonText = options.clearButtonText;\r\n    this.moreText = options.moreText;\r\n    this.placeholder = options.placeholder;\r\n    this.position = options.position;\r\n    this.textDirection = options.textDirection;\r\n    this.dropboxWidth = options.dropboxWidth;\r\n    this.tooltipFontSize = options.tooltipFontSize;\r\n    this.tooltipAlignment = options.tooltipAlignment;\r\n    this.tooltipMaxWidth = options.tooltipMaxWidth;\r\n    this.updatePositionThrottle = options.updatePositionThrottle;\r\n    this.noOfDisplayValues = parseInt(options.noOfDisplayValues);\r\n    this.zIndex = parseInt(options.zIndex);\r\n    this.maxValues = parseInt(options.maxValues);\r\n    this.minValues = parseInt(options.minValues);\r\n    this.name = this.secureText(options.name);\r\n    this.additionalClasses = options.additionalClasses;\r\n    this.additionalDropboxClasses = options.additionalDropboxClasses;\r\n    this.additionalDropboxContainerClasses = options.additionalDropboxContainerClasses;\r\n    this.additionalToggleButtonClasses = options.additionalToggleButtonClasses;\r\n    this.popupDropboxBreakpoint = options.popupDropboxBreakpoint;\r\n    this.popupPosition = options.popupPosition;\r\n    this.onServerSearch = options.onServerSearch;\r\n    this.labelRenderer = options.labelRenderer;\r\n    this.selectedLabelRenderer = options.selectedLabelRenderer;\r\n    this.initialSelectedValue = options.selectedValue === 0 ? '0' : options.selectedValue;\r\n    this.emptyValue = options.emptyValue;\r\n    this.ariaLabelText = options.ariaLabelText;\r\n    this.ariaLabelledby = options.ariaLabelledby;\r\n    this.ariaLabelClearButtonText = options.ariaLabelClearButtonText;\r\n    this.ariaLabelTagClearButtonText = options.ariaLabelTagClearButtonText;\r\n    this.ariaLabelSearchClearButtonText = options.ariaLabelSearchClearButtonText;\r\n\r\n    this.maxWidth = options.maxWidth;\r\n    this.searchDelay = options.searchDelay;\r\n\r\n    this.showDuration = parseInt(options.showDuration);\r\n    this.hideDuration = parseInt(options.hideDuration);\r\n\r\n    this.hideSelectDisplayOnKeepAlwaysOpen = convertToBoolean(options.hideSelectDisplayOnKeepAlwaysOpen); // Royale\r\n    this.initialReadOnly = convertToBoolean(options.readOnly); // Royale\r\n\r\n    /** @type {string[]} */\r\n    this.selectedValues = [];\r\n    /** @type {virtualSelectOption[]} */\r\n    this.selectedOptions = [];\r\n    this.newValues = [];\r\n    this.events = {};\r\n    this.tooltipEnterDelay = 200;\r\n    this.searchValue = '';\r\n    this.searchValueOriginal = '';\r\n    this.isAllSelected = false;\r\n\r\n    if ((options.search === undefined && this.multiple) || this.allowNewOption || this.showOptionsOnlyOnSearch) {\r\n      this.hasSearch = true;\r\n    }\r\n\r\n    this.hasServerSearch = typeof this.onServerSearch === 'function';\r\n\r\n    if (this.maxValues || this.hasServerSearch || this.showOptionsOnlyOnSearch) {\r\n      this.disableSelectAll = true;\r\n      this.disableOptionGroupCheckbox = true;\r\n    }\r\n\r\n    if (this.keepAlwaysOpen) {\r\n      this.dropboxWrapper = 'self';\r\n    }\r\n\r\n    this.showAsPopup =\r\n      this.showDropboxAsPopup && !this.keepAlwaysOpen && window.innerWidth <= parseFloat(this.popupDropboxBreakpoint);\r\n    this.hasSearchContainer = this.hasSearch || (this.multiple && !this.disableSelectAll);\r\n    // Royale\r\n    this.optionsCountInit = parseInt(options.optionsCount);\r\n    this.optionsCount = this.getOptionsCount(this.optionsCountInit);\r\n    // End Royale\r\n    this.halfOptionsCount = Math.ceil(this.optionsCount / 2);\r\n    this.optionsHeight = this.getOptionsHeight();\r\n    this.uniqueId = this.getUniqueId();\r\n    this.shouldFocusWrapperOnClose = true; // Initialize focus management property\r\n  }\r\n\r\n  /**\r\n   * @param {virtualSelectOptions} options\r\n   */\r\n  setDefaultProps(options) {\r\n    const defaultOptions = {\r\n      dropboxWrapper: 'self',\r\n      valueKey: 'value',\r\n      labelKey: 'label',\r\n      descriptionKey: 'description',\r\n      aliasKey: 'alias',\r\n      ariaLabelText: 'Options list',\r\n      ariaLabelClearButtonText: 'Clear button',\r\n      ariaLabelTagClearButtonText: 'Remove option',\r\n      ariaLabelSearchClearButtonText: 'Clear search input',\r\n      optionsCount: 5,\r\n      noOfDisplayValues: 50,\r\n      optionHeight: '40px',\r\n      noOptionsText: 'No options found',\r\n      noSearchResultsText: 'No results found',\r\n      selectAllText: 'Select All',\r\n      searchNormalize: false,\r\n      searchPlaceholderText: 'Search...',\r\n      searchFormLabel: 'Search',\r\n      clearButtonText: 'Clear',\r\n      moreText: 'more...',\r\n      optionsSelectedText: 'options selected',\r\n      optionSelectedText: 'option selected',\r\n      allOptionsSelectedText: 'All',\r\n      placeholder: 'Select',\r\n      position: 'bottom left',\r\n      zIndex: options.keepAlwaysOpen ? 1 : 2,\r\n      tooltipFontSize: '14px',\r\n      tooltipAlignment: 'center',\r\n      tooltipMaxWidth: '300px',\r\n      updatePositionThrottle: 100,\r\n      name: '',\r\n      additionalClasses: '',\r\n      additionalDropboxClasses: '',\r\n      additionalDropboxContainerClasses: '',\r\n      additionalToggleButtonClasses: '',\r\n      maxValues: 0,\r\n      showDropboxAsPopup: true,\r\n      popupDropboxBreakpoint: '576px',\r\n      popupPosition: 'center',\r\n      hideValueTooltipOnSelectAll: true,\r\n      emptyValue: '',\r\n      searchDelay: 300,\r\n      focusSelectedOptionOnOpen: true,\r\n      hideSelectDisplayOnKeepAlwaysOpen: true, // Royale\r\n      readOnly: false, // Royale\r\n      showDuration: 300,\r\n      hideDuration: 200,\r\n    };\r\n\r\n    if (options.hasOptionDescription) {\r\n      defaultOptions.optionsCount = 4;\r\n      defaultOptions.optionHeight = '50px';\r\n    }\r\n\r\n    return Object.assign(defaultOptions, options);\r\n  }\r\n\r\n  setPropsFromElementAttr(options) {\r\n    const $ele = options.ele;\r\n\r\n    Object.keys(attrPropsMapping).forEach((k) => {\r\n      let value = $ele.getAttribute(k);\r\n\r\n      if (valueLessProps.indexOf(k) !== -1 && (value === '' || value === 'true')) {\r\n        value = true;\r\n      }\r\n\r\n      if (value) {\r\n        // eslint-disable-next-line no-param-reassign\r\n        options[attrPropsMapping[k]] = value;\r\n      }\r\n    });\r\n  }\r\n\r\n  setEleProps() {\r\n    const { $ele } = this;\r\n    $ele.virtualSelect = this;\r\n    $ele.value = this.multiple ? [] : '';\r\n    $ele.name = this.name;\r\n    $ele.disabled = false;\r\n    $ele.readOnly = false; // Royale\r\n    $ele.required = this.required;\r\n    $ele.autofocus = this.autofocus;\r\n    $ele.multiple = this.multiple;\r\n    $ele.form = $ele.closest('form');\r\n\r\n    $ele.reset = VirtualSelect.reset;\r\n    $ele.setValue = VirtualSelect.setValueMethod;\r\n    $ele.setOptions = VirtualSelect.setOptionsMethod;\r\n    $ele.setDisabledOptions = VirtualSelect.setDisabledOptionsMethod;\r\n    $ele.setEnabledOptions = VirtualSelect.setEnabledOptionsMethod;\r\n    $ele.toggleSelectAll = VirtualSelect.toggleSelectAll;\r\n    $ele.isAllSelected = VirtualSelect.isAllSelected;\r\n    $ele.addOption = VirtualSelect.addOptionMethod;\r\n    $ele.getNewValue = VirtualSelect.getNewValueMethod;\r\n    $ele.getDisplayValue = VirtualSelect.getDisplayValueMethod;\r\n    $ele.getSelectedOptions = VirtualSelect.getSelectedOptionsMethod;\r\n    $ele.getDisabledOptions = VirtualSelect.getDisabledOptionsMethod;\r\n    $ele.open = VirtualSelect.openMethod;\r\n    $ele.close = VirtualSelect.closeMethod;\r\n    $ele.focus = VirtualSelect.focusMethod;\r\n    $ele.enable = VirtualSelect.enableMethod;\r\n    $ele.disable = VirtualSelect.disableMethod;\r\n    $ele.setReadOnly = VirtualSelect.setReadOnlyMethod; // Royale\r\n    $ele.destroy = VirtualSelect.destroyMethod;\r\n    $ele.validate = VirtualSelect.validateMethod;\r\n    $ele.toggleRequired = VirtualSelect.toggleRequiredMethod;\r\n\r\n    if (this.hasDropboxWrapper) {\r\n      this.$dropboxWrapper.virtualSelect = this;\r\n    }\r\n  }\r\n\r\n  setValueMethod(newValue, silentChange) {\r\n    const valuesMapping = {};\r\n    const valuesOrder = {};\r\n    let validValues = [];\r\n    const isMultiSelect = this.multiple;\r\n    // Normalize input value first\r\n    let value = Utils.normalizeValues(newValue);\r\n\r\n    if (value) {\r\n      if (!Array.isArray(value)) {\r\n        value = [value];\r\n      }\r\n\r\n      if (isMultiSelect) {\r\n        const { maxValues } = this;\r\n\r\n        if (maxValues && value.length > maxValues) {\r\n          value.splice(maxValues);\r\n        }\r\n      } else if (value.length > 1) {\r\n        value = [value[0]];\r\n      }\r\n\r\n      /** converting value to string */\r\n      // value = value.map((v) => (v || v === 0 ? v.toString() : ''));\r\n\r\n      if (this.useGroupValue) {\r\n        value = this.setGroupOptionsValue(value);\r\n      }\r\n\r\n      value.forEach((d, i) => {\r\n        valuesMapping[d] = true;\r\n        valuesOrder[d] = i;\r\n      });\r\n\r\n      if (this.allowNewOption && value) {\r\n        this.setNewOptionsFromValue(value);\r\n      }\r\n    }\r\n\r\n    this.options.forEach((d) => {\r\n      // Compare with normalized option values\r\n      const normalizedOptionValue = Utils.normalizeValues(d.value);\r\n      if (valuesMapping[normalizedOptionValue] === true && !d.isDisabled && !d.isGroupTitle) {\r\n        // eslint-disable-next-line no-param-reassign\r\n        d.isSelected = true;\r\n        // Store original value but compare with normalized value\r\n        validValues.push(d.value);\r\n      } else {\r\n        // eslint-disable-next-line no-param-reassign\r\n        d.isSelected = false;\r\n      }\r\n    });\r\n\r\n    if (isMultiSelect) {\r\n      if (this.hasOptionGroup) {\r\n        this.setGroupsSelectedProp();\r\n      }\r\n\r\n      /** sorting validValues in the given values order */\r\n      validValues.sort((a, b) => valuesOrder[Utils.normalizeValues(a)] - valuesOrder[Utils.normalizeValues(b)]);\r\n    } else {\r\n      /** taking first value for single select */\r\n      [validValues] = validValues;\r\n    }\r\n\r\n    this.beforeValueSet();\r\n    this.setValue(validValues, { disableEvent: silentChange });\r\n    this.afterValueSet();\r\n  }\r\n\r\n  setGroupOptionsValue(preparedValues) {\r\n    const selectedValues = [];\r\n    const selectedGroups = {};\r\n    const valuesMapping = {};\r\n\r\n    preparedValues.forEach((d) => {\r\n      valuesMapping[d] = true;\r\n    });\r\n\r\n    this.options.forEach((d) => {\r\n      const { value } = d;\r\n      const isSelected = valuesMapping[value] === true;\r\n\r\n      if (d.isGroupTitle) {\r\n        if (isSelected) {\r\n          selectedGroups[d.index] = true;\r\n        }\r\n      } else if (isSelected || selectedGroups[d.groupIndex]) {\r\n        selectedValues.push(value);\r\n      }\r\n    });\r\n\r\n    return selectedValues;\r\n  }\r\n\r\n  setGroupsSelectedProp() {\r\n    const isAllGroupOptionsSelected = this.isAllGroupOptionsSelected.bind(this);\r\n\r\n    this.options.forEach((d) => {\r\n      if (d.isGroupTitle) {\r\n        // eslint-disable-next-line no-param-reassign\r\n        d.isSelected = isAllGroupOptionsSelected(d.index);\r\n      }\r\n    });\r\n  }\r\n\r\n  setOptionsMethod(options, keepValue) {\r\n    this.setOptions(options);\r\n    this.afterSetOptions(keepValue);\r\n  }\r\n\r\n  setDisabledOptionsMethod(disabledOptions, keepValue = false) {\r\n    this.setDisabledOptions(disabledOptions, true);\r\n\r\n    if (!keepValue) {\r\n      this.setValueMethod(null);\r\n      this.toggleAllOptionsClass();\r\n    }\r\n\r\n    this.setVisibleOptions();\r\n  }\r\n\r\n  setDisabledOptions(disabledOptions, setOptionsProp = false) {\r\n    let disabledOptionsArr = [];\r\n\r\n    if (!disabledOptions) {\r\n      if (setOptionsProp) {\r\n        this.options.forEach((d) => {\r\n          // eslint-disable-next-line no-param-reassign\r\n          d.isDisabled = false;\r\n\r\n          return d;\r\n        });\r\n      }\r\n    } else if (disabledOptions === true) {\r\n      if (setOptionsProp) {\r\n        this.options.forEach((d) => {\r\n          // eslint-disable-next-line no-param-reassign\r\n          d.isDisabled = true;\r\n\r\n          disabledOptionsArr.push(d.value);\r\n\r\n          return d;\r\n        });\r\n      }\r\n    } else {\r\n      disabledOptionsArr = disabledOptions.map((d) => d.toString());\r\n      const disabledOptionsMapping = {};\r\n\r\n      disabledOptionsArr.forEach((d) => {\r\n        disabledOptionsMapping[d] = true;\r\n      });\r\n\r\n      if (setOptionsProp) {\r\n        this.options.forEach((d) => {\r\n          // eslint-disable-next-line no-param-reassign\r\n          d.isDisabled = disabledOptionsMapping[d.value] === true;\r\n\r\n          return d;\r\n        });\r\n      }\r\n    }\r\n\r\n    this.disabledOptions = disabledOptionsArr;\r\n  }\r\n\r\n  setEnabledOptionsMethod(disabledOptions, keepValue = false) {\r\n    this.setEnabledOptions(disabledOptions);\r\n\r\n    if (!keepValue) {\r\n      this.setValueMethod(null);\r\n      this.toggleAllOptionsClass();\r\n    }\r\n\r\n    this.setVisibleOptions();\r\n  }\r\n\r\n  setEnabledOptions(enabledOptions) {\r\n    if (enabledOptions === undefined) {\r\n      return;\r\n    }\r\n\r\n    const disabledOptionsArr = [];\r\n\r\n    if (enabledOptions === true) {\r\n      this.options.forEach((d) => {\r\n        // eslint-disable-next-line no-param-reassign\r\n        d.isDisabled = false;\r\n\r\n        return d;\r\n      });\r\n    } else {\r\n      const enabledOptionsMapping = {};\r\n\r\n      enabledOptions.forEach((d) => {\r\n        enabledOptionsMapping[d] = true;\r\n      });\r\n\r\n      this.options.forEach((d) => {\r\n        const isDisabled = enabledOptionsMapping[d.value] !== true;\r\n\r\n        // eslint-disable-next-line no-param-reassign\r\n        d.isDisabled = isDisabled;\r\n\r\n        if (isDisabled) {\r\n          disabledOptionsArr.push(d.value);\r\n        }\r\n\r\n        return d;\r\n      });\r\n    }\r\n\r\n    this.disabledOptions = disabledOptionsArr;\r\n  }\r\n\r\n  setOptions(options = []) {\r\n    const preparedOptions = [];\r\n    const hasDisabledOptions = this.disabledOptions.length;\r\n    const { valueKey, labelKey, descriptionKey, aliasKey, hasOptionDescription } = this;\r\n    const { getString, convertToBoolean } = Utils;\r\n    const secureText = this.secureText.bind(this);\r\n    const getAlias = this.getAlias.bind(this);\r\n    let index = 0;\r\n    let hasOptionGroup = false;\r\n    const disabledOptionsMapping = {};\r\n    let hasEmptyValueOption = false;\r\n\r\n    this.disabledOptions.forEach((d) => {\r\n      disabledOptionsMapping[d] = true;\r\n    });\r\n\r\n    const prepareOption = (d) => {\r\n      if (typeof d !== 'object') {\r\n        // eslint-disable-next-line no-param-reassign\r\n        d = { [valueKey]: d, [labelKey]: d };\r\n      }\r\n\r\n      const value = secureText(getString(d[valueKey]));\r\n      const label = secureText(getString(d[labelKey]));\r\n      const childOptions = d.options;\r\n      const isGroupTitle = !!childOptions;\r\n      const option = {\r\n        index,\r\n        value,\r\n        label,\r\n        labelNormalized: this.searchNormalize && label.trim() !== ''\r\n          ? Utils.normalizeString(label).toLowerCase()\r\n          : label.toLowerCase(),\r\n        alias: getAlias(d[aliasKey]),\r\n        isVisible: convertToBoolean(d.isVisible, true),\r\n        isNew: d.isNew || false,\r\n        isGroupTitle,\r\n        classNames: d.classNames,\r\n      };\r\n\r\n      if (!hasEmptyValueOption && value === '') {\r\n        hasEmptyValueOption = true;\r\n      }\r\n\r\n      if (hasDisabledOptions) {\r\n        option.isDisabled = disabledOptionsMapping[value] === true;\r\n      }\r\n\r\n      if (d.isGroupOption) {\r\n        option.isGroupOption = true;\r\n        option.groupIndex = d.groupIndex;\r\n      }\r\n\r\n      if (hasOptionDescription) {\r\n        option.description = secureText(getString(d[descriptionKey]));\r\n      }\r\n\r\n      if (d.customData) {\r\n        option.customData = d.customData;\r\n      }\r\n\r\n      preparedOptions.push(option);\r\n      index += 1;\r\n\r\n      if (isGroupTitle) {\r\n        const groupIndex = option.index;\r\n        hasOptionGroup = true;\r\n\r\n        childOptions.forEach((childData) => {\r\n          // eslint-disable-next-line no-param-reassign\r\n          childData.isGroupOption = true;\r\n          // eslint-disable-next-line no-param-reassign\r\n          childData.groupIndex = groupIndex;\r\n\r\n          prepareOption(childData);\r\n        });\r\n      }\r\n    };\r\n\r\n    if (Array.isArray(options)) {\r\n      options.forEach(prepareOption);\r\n    }\r\n\r\n    const optionsLength = preparedOptions.length;\r\n    const { $ele } = this;\r\n    $ele.options = preparedOptions;\r\n    $ele.length = optionsLength;\r\n    this.options = preparedOptions;\r\n    this.visibleOptionsCount = optionsLength;\r\n    this.lastOptionIndex = optionsLength - 1;\r\n    this.newValues = [];\r\n    this.hasOptionGroup = hasOptionGroup;\r\n    this.hasEmptyValueOption = hasEmptyValueOption;\r\n    this.setSortedOptions();\r\n  }\r\n\r\n  setServerOptions(options = []) {\r\n    this.setOptionsMethod(options, true);\r\n\r\n    const { selectedOptions } = this;\r\n    const newOptions = this.options;\r\n    let optionsUpdated = false;\r\n\r\n    /** merging already selected options details with new options */\r\n    if (selectedOptions.length) {\r\n      const newOptionsValueMapping = {};\r\n      optionsUpdated = true;\r\n\r\n      newOptions.forEach((d) => {\r\n        newOptionsValueMapping[d.value] = true;\r\n      });\r\n\r\n      selectedOptions.forEach((d) => {\r\n        if (newOptionsValueMapping[d.value] !== true) {\r\n          // eslint-disable-next-line no-param-reassign\r\n          d.isVisible = false;\r\n          newOptions.push(d);\r\n        }\r\n      });\r\n\r\n      this.setOptionsMethod(newOptions, true);\r\n    }\r\n\r\n    /** merging new search option */\r\n    if (this.allowNewOption && this.searchValue) {\r\n      const hasExactOption = newOptions.some((d) => d.label.toLowerCase() === this.searchValue);\r\n\r\n      if (!hasExactOption) {\r\n        optionsUpdated = true;\r\n        this.setNewOption();\r\n      }\r\n    }\r\n\r\n    if (optionsUpdated) {\r\n      this.setVisibleOptionsCount();\r\n\r\n      if (this.multiple) {\r\n        this.toggleAllOptionsClass();\r\n      }\r\n\r\n      this.setValueText();\r\n    } else {\r\n      this.updatePosition();\r\n    }\r\n    this.setVisibleOptionsCount();\r\n    DomUtils.removeClass(this.$allWrappers, 'server-searching');\r\n  }\r\n\r\n  setSelectedOptions() {\r\n    this.selectedOptions = this.options.filter((d) => d.isSelected);\r\n  }\r\n\r\n  setSortedOptions() {\r\n    let sortedOptions = [...this.options];\r\n\r\n    if (this.showSelectedOptionsFirst && this.selectedValues.length) {\r\n      if (this.hasOptionGroup) {\r\n        sortedOptions = this.sortOptionsGroup(sortedOptions);\r\n      } else {\r\n        sortedOptions = this.sortOptions(sortedOptions);\r\n      }\r\n    }\r\n\r\n    this.sortedOptions = sortedOptions;\r\n  }\r\n\r\n  setVisibleOptions(isOnScrollUpdating = false) {\r\n    let visibleOptions = [...this.sortedOptions];\r\n    const maxOptionsToShow = this.optionsCount * 2;\r\n    const startIndex = this.getVisibleStartIndex();\r\n    const newOption = this.getNewOption();\r\n    const endIndex = startIndex + maxOptionsToShow - 1;\r\n    let i = 0;\r\n\r\n    if (newOption) {\r\n      newOption.visibleIndex = i;\r\n      i += 1;\r\n    }\r\n\r\n    visibleOptions = visibleOptions.filter((d) => {\r\n      let inView = false;\r\n\r\n      if (d.isVisible && !d.isCurrentNew) {\r\n        inView = i >= startIndex && i <= endIndex;\r\n        // eslint-disable-next-line no-param-reassign\r\n        d.visibleIndex = i;\r\n        i += 1;\r\n      }\r\n\r\n      return inView;\r\n    });\r\n\r\n    if (newOption) {\r\n      visibleOptions = [newOption, ...visibleOptions];\r\n    }\r\n\r\n    this.visibleOptions = visibleOptions;\r\n    // update number of visible options\r\n    this.visibleOptionsCount = visibleOptions.length;\r\n    this.renderOptions(isOnScrollUpdating);\r\n  }\r\n\r\n  setOptionsPosition(startIndex) {\r\n    // We use the parseInt to fix a Chrome issue when dealing with decimal pixels in translate3d\r\n    const top = parseInt((startIndex || this.getVisibleStartIndex()) * this.optionHeight);\r\n    this.$options.style.transform = `translate3d(0, ${top}px, 0)`;\r\n    DomUtils.setData(this.$options, 'top', top);\r\n  }\r\n\r\n  setOptionsTooltip() {\r\n    const visibleOptions = this.getVisibleOptions();\r\n    const { hasOptionDescription } = this;\r\n\r\n    visibleOptions.forEach((d) => {\r\n      const $optionEle = this.$dropboxContainer.querySelector(`.vscomp-option[data-index=\"${d.index}\"]`);\r\n\r\n      DomUtils.setData($optionEle.querySelector('.vscomp-option-text'), 'tooltip', d.label);\r\n\r\n      if (hasOptionDescription) {\r\n        DomUtils.setData($optionEle.querySelector('.vscomp-option-description'), 'tooltip', d.description);\r\n      }\r\n    });\r\n  }\r\n\r\n  setValue(value, { disableEvent = false, disableValidation = false } = {}) {\r\n    // Normalize input value first\r\n    const normalizedValue = Utils.normalizeValues(value);\r\n    const isValidValue = (this.hasEmptyValueOption && normalizedValue === '') || normalizedValue;\r\n\r\n    if (!isValidValue) {\r\n      this.selectedValues = [];\r\n    } else if (Array.isArray(normalizedValue)) {\r\n      this.selectedValues = [...normalizedValue];\r\n    } else {\r\n      this.selectedValues = [normalizedValue];\r\n    }\r\n\r\n    const newValue = this.getValue();\r\n    this.$ele.value = newValue;\r\n    this.$hiddenInput.value = this.getInputValue(newValue);\r\n    this.isMaxValuesSelected = !!(this.maxValues && this.maxValues <= this.selectedValues.length);\r\n\r\n    this.toggleAllOptionsClass();\r\n    this.setValueText();\r\n\r\n    const hasValue = Utils.isNotEmpty(this.selectedValues);\r\n\r\n    DomUtils.toggleClass(this.$allWrappers, 'has-value', hasValue);\r\n    DomUtils.toggleClass(this.$allWrappers, 'max-value-selected', this.isMaxValuesSelected);\r\n\r\n    DomUtils.setAttr(this.$clearButton, 'tabindex', hasValue ? '0' : '-1');\r\n    DomUtils.setAria(this.$clearButton, 'hidden', hasValue === false);\r\n\r\n    if (!disableValidation) {\r\n      this.validate();\r\n    }\r\n\r\n    if (!disableEvent) {\r\n      DomUtils.dispatchEvent(this.$ele, 'change', true);\r\n    }\r\n  }\r\n\r\n  setValueText() {\r\n    const { multiple, selectedValues, noOfDisplayValues, showValueAsTags, $valueText, selectedLabelRenderer } = this;\r\n    const valueText = [];\r\n    let valueTooltip = [];\r\n    const selectedLength = selectedValues.length;\r\n    let selectedValuesCount = 0;\r\n    const showAllText =\r\n      this.isAllSelected && !this.hasServerSearch && !this.disableAllOptionsSelectedText && !showValueAsTags;\r\n\r\n    /** show all values selected text without tooltip text */\r\n    if (showAllText && this.hideValueTooltipOnSelectAll) {\r\n      $valueText.innerHTML = `${this.allOptionsSelectedText} (${selectedLength})`;\r\n    } else {\r\n      const selectedOptions = this.getSelectedOptions({\r\n        fullDetails: true,\r\n        keepSelectionOrder: true,\r\n      });\r\n\r\n      selectedOptions.some((d) => {\r\n        if (d.isCurrentNew) {\r\n          return false;\r\n        }\r\n\r\n        if (selectedValuesCount >= noOfDisplayValues) {\r\n          return true;\r\n        }\r\n\r\n        let { label } = d;\r\n\r\n        if (typeof selectedLabelRenderer === 'function') {\r\n          label = selectedLabelRenderer(d);\r\n        }\r\n\r\n        valueText.push(label);\r\n        selectedValuesCount += 1;\r\n\r\n        if (showValueAsTags) {\r\n          // Will cause text overflow in runtime and if so,the tooltip information is prepared\r\n          const valueTooltipForTags = Utils.willTextOverflow($valueText.parentElement, label)\r\n            ? this.getTooltipAttrText(label, false, true) : '';\r\n\r\n          // replace is nedded to remove html tags from aria-label (ex: when there is an icon in the label)\r\n          let ariaLabelClearBtnTxt = '';\r\n          if (this.ariaLabelTagClearButtonText) {\r\n            const stripHtmlLabel = label.replace(/<[^>]+>/ig, '').trim();\r\n            ariaLabelClearBtnTxt = `aria-label=\"${stripHtmlLabel}, ${this.ariaLabelTagClearButtonText}\"`;\r\n          }\r\n\r\n          const valueTagHtml = `<span class=\"vscomp-value-tag\" data-index=\"${d.index}\" ${valueTooltipForTags}>\r\n                  <span class=\"vscomp-value-tag-content\">${label}</span>\r\n                  <span \r\n                    class=\"vscomp-value-tag-clear-button\" \r\n                    role=\"button\" \r\n                    ${ariaLabelClearBtnTxt}\r\n                    tabindex=\"0\">\r\n                      <i class=\"vscomp-clear-icon\"></i>\r\n                  </span>\r\n                </span>`;\r\n          valueTooltip.push(valueTagHtml);\r\n        } else {\r\n          valueTooltip.push(label);\r\n        }\r\n\r\n        return false;\r\n      });\r\n\r\n      const moreSelectedOptions = selectedLength - noOfDisplayValues;\r\n\r\n      if (moreSelectedOptions > 0) {\r\n        valueTooltip.push(\r\n          `<span class=\"vscomp-value-tag more-value-count\">+ ${moreSelectedOptions} ${this.moreText}</span>`,\r\n        );\r\n      }\r\n\r\n      const aggregatedValueText = valueText.join(', ');\r\n\r\n      if (aggregatedValueText === '') {\r\n        $valueText.innerHTML = this.placeholder;\r\n      } else {\r\n        $valueText.innerHTML = aggregatedValueText;\r\n\r\n        if (multiple) {\r\n          const { maxValues } = this;\r\n\r\n          const showSelectedCount = this.alwaysShowSelectedOptionsCount || DomUtils.hasEllipsis($valueText);\r\n\r\n          if (showSelectedCount || maxValues || showValueAsTags) {\r\n            let countText = `<span class=\"vscomp-selected-value-count\">${selectedLength}</span>`;\r\n\r\n            if (maxValues) {\r\n              countText += ` / <span class=\"vscomp-max-value-count\">${maxValues}</span>`;\r\n            }\r\n\r\n            /** show all values selected text with tooltip text */\r\n            if (showAllText) {\r\n              $valueText.innerHTML = `${this.allOptionsSelectedText} (${selectedLength})`;\r\n            } else if (showValueAsTags) {\r\n              $valueText.innerHTML = valueTooltip.join('');\r\n              this.$valueTags = $valueText.querySelectorAll('.vscomp-value-tag');\r\n\r\n              this.setValueTagAttr();\r\n            } else if (!this.alwaysShowSelectedOptionsLabel) {\r\n              /** replace comma separated list of selections with shorter text indicating selection count */\r\n              const optionsSelectedText = selectedLength === 1 ? this.optionSelectedText : this.optionsSelectedText;\r\n              $valueText.innerHTML = `${countText} ${optionsSelectedText}`;\r\n            }\r\n          } else {\r\n            /** removing tooltip if full value text is visible */\r\n            valueTooltip = [];\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    let tooltipText = '';\r\n\r\n    if (selectedLength === 0) {\r\n      tooltipText = this.placeholder;\r\n    } else if (!showValueAsTags) {\r\n      tooltipText = valueTooltip.join(', ');\r\n    }\r\n\r\n    if (!showValueAsTags) {\r\n      DomUtils.setData($valueText, 'tooltip', tooltipText);\r\n    }\r\n\r\n    if (multiple) {\r\n      if (!showValueAsTags) {\r\n        DomUtils.setData($valueText, 'tooltipEllipsisOnly', selectedLength === 0);\r\n      } else {\r\n        this.updatePosition();\r\n      }\r\n    }\r\n  }\r\n\r\n  setSearchValue(value, skipInputSet = false, forceSet = false) {\r\n    if (value === this.searchValueOriginal && !forceSet) {\r\n      return;\r\n    }\r\n\r\n    if (!skipInputSet) {\r\n      this.$searchInput.value = value;\r\n    }\r\n\r\n    const searchValue = value.replace(/\\\\/g, '').toLowerCase().trim();\r\n    this.searchValue = searchValue;\r\n    this.searchValueOriginal = value;\r\n\r\n    DomUtils.toggleClass(this.$allWrappers, 'has-search-value', value);\r\n\r\n    DomUtils.setAttr(this.$searchClear, 'tabindex', value !== '' ? '0' : '-1');\r\n    DomUtils.setAria(this.$searchClear, 'hidden', value === '');\r\n\r\n    this.afterSetSearchValue();\r\n  }\r\n\r\n  setVisibleOptionsCount() {\r\n    let visibleOptionsCount = 0;\r\n    let hasExactOption = false;\r\n    let visibleOptionGroupsMapping;\r\n    const { searchGroup, showOptionsOnlyOnSearch, searchByStartsWith } = this;\r\n\r\n    /** If searchNormalize we'll normalize the searchValue */\r\n    let { searchValue } = this;\r\n    searchValue = this.searchNormalize && searchValue.trim() !== ''\r\n      ? Utils.normalizeString(searchValue)\r\n      : searchValue;\r\n    const isOptionVisible = this.isOptionVisible.bind(this);\r\n\r\n    if (this.hasOptionGroup) {\r\n      visibleOptionGroupsMapping = this.getVisibleOptionGroupsMapping(searchValue);\r\n    }\r\n\r\n    this.options.forEach((d) => {\r\n      if (d.isCurrentNew) {\r\n        return;\r\n      }\r\n      let result;\r\n\r\n      if (showOptionsOnlyOnSearch && !searchValue) {\r\n        // eslint-disable-next-line no-param-reassign\r\n        d.isVisible = false;\r\n        result = {\r\n          isVisible: false,\r\n          hasExactOption: false,\r\n        };\r\n      } else {\r\n        result = isOptionVisible({\r\n          data: d,\r\n          searchValue,\r\n          hasExactOption,\r\n          visibleOptionGroupsMapping,\r\n          searchGroup,\r\n          searchByStartsWith,\r\n        });\r\n      }\r\n\r\n      if (result.isVisible) {\r\n        visibleOptionsCount += 1;\r\n      }\r\n\r\n      if (!hasExactOption) {\r\n        hasExactOption = result.hasExactOption;\r\n      }\r\n    });\r\n\r\n    if (this.allowNewOption) {\r\n      if (searchValue && !hasExactOption) {\r\n        this.setNewOption();\r\n        visibleOptionsCount += 1;\r\n      } else {\r\n        this.removeNewOption();\r\n      }\r\n    }\r\n\r\n    this.visibleOptionsCount = visibleOptionsCount;\r\n\r\n    this.afterSetVisibleOptionsCount();\r\n  }\r\n\r\n  setOptionProp(index, key, value) {\r\n    if (!this.options[index]) {\r\n      return;\r\n    }\r\n\r\n    this.options[index][key] = value;\r\n  }\r\n\r\n  setOptionsHeight() {\r\n    this.$optionsList.style.height = `${this.optionHeight * this.visibleOptionsCount}px`;\r\n  }\r\n\r\n  setOptionsContainerHeight(reset) {\r\n    let optionsHeight;\r\n\r\n    if (reset) {\r\n      if (this.showAsPopup) {\r\n        this.optionsCount = this.getOptionsCount();\r\n        this.halfOptionsCount = Math.ceil(this.optionsCount / 2);\r\n        optionsHeight = this.getOptionsHeight();\r\n        this.optionsHeight = optionsHeight;\r\n      }\r\n    } else {\r\n      optionsHeight = this.optionsHeight;\r\n\r\n      if (this.keepAlwaysOpen) {\r\n        DomUtils.setStyle(this.$noOptions, 'height', optionsHeight);\r\n        DomUtils.setStyle(this.$noSearchResults, 'height', optionsHeight);\r\n      }\r\n    }\r\n\r\n    // Royale. If the component always has the dropdown open, we set the size.\r\n    if (this.keepAlwaysOpen) {\r\n      DomUtils.setStyle(this.$optionsContainer, 'min-height', optionsHeight);\r\n    } else {\r\n      DomUtils.setStyle(this.$optionsContainer, 'max-height', optionsHeight);\r\n    }\r\n\r\n    this.afterSetOptionsContainerHeight(reset);\r\n  }\r\n\r\n  setNewOption(newValue) {\r\n    const value = newValue || this.searchValueOriginal.trim();\r\n\r\n    if (!value) {\r\n      return;\r\n    }\r\n\r\n    const newOption = this.getNewOption();\r\n\r\n    if (newOption) {\r\n      const newIndex = newOption.index;\r\n\r\n      this.setOptionProp(newIndex, 'value', this.secureText(value));\r\n      this.setOptionProp(newIndex, 'label', this.secureText(value));\r\n    } else {\r\n      const data = {\r\n        value,\r\n        label: value,\r\n      };\r\n\r\n      if (newValue) {\r\n        data.isNew = true;\r\n        this.newValues.push(value);\r\n      } else {\r\n        data.isCurrentNew = true;\r\n      }\r\n\r\n      this.addOption(data);\r\n    }\r\n  }\r\n\r\n  setSelectedProp() {\r\n    const valuesMapping = {};\r\n\r\n    this.selectedValues.forEach((d) => {\r\n      valuesMapping[d] = true;\r\n    });\r\n\r\n    this.options.forEach((d) => {\r\n      if (valuesMapping[d.value] === true) {\r\n        // eslint-disable-next-line no-param-reassign\r\n        d.isSelected = true;\r\n      }\r\n    });\r\n  }\r\n\r\n  setNewOptionsFromValue(values) {\r\n    if (!values) {\r\n      return;\r\n    }\r\n\r\n    const setNewOption = this.setNewOption.bind(this);\r\n    const availableValuesMapping = {};\r\n\r\n    this.options.forEach((d) => {\r\n      availableValuesMapping[d.value] = true;\r\n    });\r\n\r\n    values.forEach((d) => {\r\n      if (d && availableValuesMapping[d] !== true) {\r\n        setNewOption(d);\r\n      }\r\n    });\r\n  }\r\n\r\n  setDropboxWrapperWidth() {\r\n    if (this.showAsPopup) {\r\n      return;\r\n    }\r\n\r\n    const width = this.dropboxWidth || `${this.$wrapper.offsetWidth}px`;\r\n\r\n    DomUtils.setStyle(this.$dropboxContainer, 'max-width', width);\r\n  }\r\n\r\n  setEleStyles() {\r\n    const { maxWidth } = this;\r\n    const styles = {};\r\n\r\n    if (maxWidth) {\r\n      styles['max-width'] = maxWidth;\r\n    }\r\n\r\n    DomUtils.setStyles(this.$ele, styles);\r\n  }\r\n\r\n  setDropboxStyles() {\r\n    const { dropboxWidth } = this;\r\n    const styles = {};\r\n    const containerStyles = {\r\n      'z-index': this.zIndex,\r\n    };\r\n\r\n    if (dropboxWidth) {\r\n      if (this.showAsPopup) {\r\n        styles['max-width'] = dropboxWidth;\r\n      } else {\r\n        containerStyles.width = dropboxWidth;\r\n      }\r\n    }\r\n\r\n    DomUtils.setStyles(this.$dropboxContainer, containerStyles);\r\n    DomUtils.setStyles(this.$dropbox, styles);\r\n  }\r\n\r\n  setOptionAttr() {\r\n    const { $visibleOptions } = this;\r\n    const { options } = this;\r\n    const optionHeight = `${this.optionHeight}px`;\r\n    const { setStyle, getData, setData } = DomUtils;\r\n\r\n    if ($visibleOptions && $visibleOptions.length) {\r\n      $visibleOptions.forEach(($option) => {\r\n        const optionDetails = options[getData($option, 'index')];\r\n\r\n        setStyle($option, 'height', optionHeight);\r\n        setData($option, 'value', optionDetails.value);\r\n      });\r\n    }\r\n  }\r\n\r\n  setValueTagAttr() {\r\n    const { $valueTags } = this;\r\n\r\n    if (!$valueTags || !$valueTags.length) {\r\n      return;\r\n    }\r\n\r\n    const { getData, setData } = DomUtils;\r\n    const { options } = this;\r\n\r\n    $valueTags.forEach(($valueTag) => {\r\n      const index = getData($valueTag, 'index');\r\n\r\n      if (typeof index !== 'undefined') {\r\n        const optionDetails = options[index];\r\n\r\n        setData($valueTag, 'value', optionDetails.value);\r\n      }\r\n    });\r\n  }\r\n\r\n  setScrollTop() {\r\n    const { selectedValues } = this;\r\n\r\n    if (this.showSelectedOptionsFirst || !this.focusSelectedOptionOnOpen || selectedValues.length === 0) {\r\n      return;\r\n    }\r\n\r\n    const valuesMapping = {};\r\n    let selectedOptionIndex;\r\n\r\n    selectedValues.forEach((d) => {\r\n      valuesMapping[d] = true;\r\n    });\r\n\r\n    this.options.some((d) => {\r\n      if (valuesMapping[d.value]) {\r\n        selectedOptionIndex = d.visibleIndex;\r\n        return true;\r\n      }\r\n\r\n      return false;\r\n    });\r\n\r\n    if (selectedOptionIndex) {\r\n      this.$optionsContainer.scrollTop = this.optionHeight * selectedOptionIndex;\r\n    }\r\n  }\r\n  /** set methods - end */\r\n\r\n  /** get methods - start */\r\n  getVisibleOptions() {\r\n    return this.visibleOptions || [];\r\n  }\r\n\r\n  getValue() {\r\n    let value;\r\n\r\n    if (this.multiple) {\r\n      value = this.useGroupValue ? this.getGroupValue() : this.selectedValues;\r\n    } else {\r\n      value = this.selectedValues[0] || '';\r\n    }\r\n\r\n    return Utils.normalizeValues(value);\r\n  }\r\n\r\n  getGroupValue() {\r\n    const selectedValues = [];\r\n    const selectedGroups = {};\r\n\r\n    this.options.forEach((d) => {\r\n      if (!d.isSelected) {\r\n        return;\r\n      }\r\n\r\n      const { value } = d;\r\n\r\n      if (d.isGroupTitle) {\r\n        if (value) {\r\n          selectedGroups[d.index] = true;\r\n          selectedValues.push(value);\r\n        }\r\n      } else if (selectedGroups[d.groupIndex] !== true) {\r\n        selectedValues.push(value);\r\n      }\r\n    });\r\n\r\n    return selectedValues;\r\n  }\r\n\r\n  getInputValue(preparedValue) {\r\n    let value = preparedValue;\r\n\r\n    if (value && value.length) {\r\n      if (this.setValueAsArray && this.multiple) {\r\n        value = JSON.stringify(value);\r\n      }\r\n    } else {\r\n      value = this.emptyValue;\r\n    }\r\n\r\n    return value;\r\n  }\r\n\r\n  getFirstVisibleOptionIndex() {\r\n    return Math.ceil(this.$optionsContainer.scrollTop / this.optionHeight);\r\n  }\r\n\r\n  getVisibleStartIndex() {\r\n    const firstVisibleOptionIndex = this.getFirstVisibleOptionIndex();\r\n    let startIndex = firstVisibleOptionIndex - this.halfOptionsCount;\r\n\r\n    if (startIndex < 0) {\r\n      startIndex = 0;\r\n    }\r\n\r\n    return startIndex;\r\n  }\r\n\r\n  getTooltipAttrText(text, ellipsisOnly = false, allowHtml = false) {\r\n    const tootltipText = Utils.containsHTML(text) ? Utils.replaceDoubleQuotesWithHTML(text) : text;\r\n    const data = {\r\n      'data-tooltip': tootltipText || '',\r\n      'data-tooltip-enter-delay': this.tooltipEnterDelay,\r\n      'data-tooltip-z-index': this.zIndex,\r\n      'data-tooltip-font-size': this.tooltipFontSize,\r\n      'data-tooltip-alignment': this.tooltipAlignment,\r\n      'data-tooltip-max-width': this.tooltipMaxWidth,\r\n      'data-tooltip-ellipsis-only': ellipsisOnly,\r\n      'data-tooltip-allow-html': allowHtml,\r\n    };\r\n\r\n    return DomUtils.getAttributesText(data);\r\n  }\r\n\r\n  /**\r\n   * @param {any} data\r\n   * @returns {any}\r\n   */\r\n  getOptionObj(data) {\r\n    if (!data) {\r\n      return undefined;\r\n    }\r\n\r\n    const { getString } = Utils;\r\n    const secureText = this.secureText.bind(this);\r\n\r\n    return {\r\n      index: data.index,\r\n      value: secureText(getString(data.value)),\r\n      label: secureText(getString(data.label)),\r\n      description: secureText(getString(data.description)),\r\n      alias: this.getAlias(data.alias),\r\n      isCurrentNew: data.isCurrentNew || false,\r\n      isNew: data.isNew || false,\r\n      isVisible: true,\r\n    };\r\n  }\r\n\r\n  getNewOption() {\r\n    const lastOption = this.options[this.lastOptionIndex];\r\n\r\n    if (!lastOption || !lastOption.isCurrentNew) {\r\n      return undefined;\r\n    }\r\n\r\n    return lastOption;\r\n  }\r\n\r\n  getOptionIndex(value) {\r\n    let index;\r\n\r\n    this.options.some((d) => {\r\n      if (d.value === value) {\r\n        index = d.index;\r\n\r\n        return true;\r\n      }\r\n\r\n      return false;\r\n    });\r\n\r\n    return index;\r\n  }\r\n\r\n  getNewValue() {\r\n    const valuesMapping = {};\r\n\r\n    this.newValues.forEach((d) => {\r\n      valuesMapping[d] = true;\r\n    });\r\n\r\n    const result = this.selectedValues.filter((d) => valuesMapping[d] === true);\r\n\r\n    return this.multiple ? result : result[0];\r\n  }\r\n\r\n  getAlias(alias) {\r\n    let result = alias;\r\n\r\n    if (result) {\r\n      if (Array.isArray(result)) {\r\n        result = result.join(',');\r\n      } else {\r\n        result = result.toString().trim();\r\n      }\r\n\r\n      result = result.toLowerCase();\r\n    }\r\n\r\n    return result || '';\r\n  }\r\n\r\n  getDisplayValue() {\r\n    const displayValues = [];\r\n\r\n    this.options.forEach((d) => {\r\n      if (d.isSelected) {\r\n        displayValues.push(d.label);\r\n      }\r\n    });\r\n\r\n    return this.multiple ? displayValues : displayValues[0] || '';\r\n  }\r\n\r\n  getSelectedOptions({ fullDetails = false, keepSelectionOrder = false } = {}) {\r\n    const { valueKey, labelKey, selectedValues } = this;\r\n    const selectedOptions = [];\r\n\r\n    this.options.forEach((d) => {\r\n      if (d.isSelected && !d.isGroupTitle) {\r\n        if (fullDetails) {\r\n          selectedOptions.push(d);\r\n        } else {\r\n          const data = {\r\n            [valueKey]: d.value,\r\n            [labelKey]: d.label,\r\n          };\r\n\r\n          if (d.isNew) {\r\n            data.isNew = true;\r\n          }\r\n\r\n          if (d.customData) {\r\n            data.customData = d.customData;\r\n          }\r\n\r\n          selectedOptions.push(data);\r\n        }\r\n      }\r\n    });\r\n\r\n    if (keepSelectionOrder) {\r\n      const valuesOrder = {};\r\n\r\n      selectedValues.forEach((d, i) => {\r\n        valuesOrder[d] = i;\r\n      });\r\n\r\n      selectedOptions.sort((a, b) => valuesOrder[a.value] - valuesOrder[b.value]);\r\n    }\r\n\r\n    return this.multiple || fullDetails ? selectedOptions : selectedOptions[0];\r\n  }\r\n\r\n  getDisabledOptions() {\r\n    const { valueKey, labelKey, disabledOptions } = this;\r\n    const disabledOptionsValueMapping = {};\r\n    const result = [];\r\n\r\n    disabledOptions.forEach((value) => {\r\n      disabledOptionsValueMapping[value] = true;\r\n    });\r\n\r\n    this.options.forEach(({ value, label }) => {\r\n      if (disabledOptionsValueMapping[value]) {\r\n        result.push({\r\n          [valueKey]: value,\r\n          [labelKey]: label,\r\n        });\r\n      }\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  getVisibleOptionGroupsMapping(searchValue) {\r\n    let { options } = this;\r\n    const result = {};\r\n    const isOptionVisible = this.isOptionVisible.bind(this);\r\n    options = this.structureOptionGroup(options);\r\n\r\n    options.forEach((d) => {\r\n      result[d.index] = d.options.some((e) => isOptionVisible({ data: e, searchValue }).isVisible);\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  getOptionsCount(count) {\r\n    let result;\r\n\r\n    if (this.showAsPopup) {\r\n      let availableHeight = (window.innerHeight * 80) / 100 - dropboxCloseButtonFullHeight;\r\n\r\n      if (this.hasSearchContainer) {\r\n        availableHeight -= searchHeight;\r\n      }\r\n\r\n      result = Math.floor(availableHeight / this.optionHeight);\r\n    } else {\r\n      result = parseInt(count);\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  getOptionsHeight() {\r\n    return `${this.optionsCount * this.optionHeight}px`;\r\n  }\r\n\r\n  /** getting next/prev valid option element */\r\n  getSibling($ele, direction) {\r\n    const propName = direction === 'next' ? 'nextElementSibling' : 'previousElementSibling';\r\n    let $sibling = $ele;\r\n\r\n    do {\r\n      if ($sibling) {\r\n        $sibling = $sibling[propName];\r\n      }\r\n    } while (DomUtils.hasClass($sibling, 'disabled') || DomUtils.hasClass($sibling, 'group-title'));\r\n\r\n    return $sibling;\r\n  }\r\n\r\n  getUniqueId() {\r\n    const uniqueId = Utils.getRandomInt(10000);\r\n    const isAlreadyUsed = document.querySelector(`#vscomp-ele-wrapper-${uniqueId}`);\r\n\r\n    if (isAlreadyUsed) {\r\n      return this.getUniqueId();\r\n    }\r\n\r\n    return uniqueId;\r\n  }\r\n  /** get methods - end */\r\n\r\n  initDropboxPopover() {\r\n    const data = {\r\n      ele: this.$ele,\r\n      target: this.$dropboxContainer,\r\n      position: this.position,\r\n      zIndex: this.zIndex,\r\n      margin: 4,\r\n      transitionDistance: 30,\r\n      hideArrowIcon: true,\r\n      disableManualAction: true,\r\n      disableUpdatePosition: !this.hasDropboxWrapper,\r\n      updatePositionThrottle: this.updatePositionThrottle,\r\n      showDuration: this.showDuration,\r\n      hideDuration: this.hideDuration,\r\n      afterShow: this.afterShowPopper.bind(this),\r\n      afterHide: this.afterHidePopper.bind(this),\r\n    };\r\n\r\n    this.dropboxPopover = new PopoverComponent(data);\r\n  }\r\n\r\n  openDropbox(isSilent) {\r\n    // Set this instance as the last interacted one immediately\r\n    VirtualSelect.lastInteractedInstance = this;\r\n    let originalTransition = '';\r\n    // Disable transitions for programmatic opening\r\n    if (!isSilent) {\r\n      // Store original transition\r\n      originalTransition = this.$dropboxContainer.style.transition;\r\n      this.$dropboxContainer.style.transition = 'none';\r\n    }\r\n    // Perform the open operation\r\n    this.isSilentOpen = isSilent;\r\n\r\n    // Close all other open instances first\r\n    VirtualSelect.openInstances.forEach((instance) => {\r\n      if (instance !== this) {\r\n        // Don't focus when closing due to another dropdown being opened\r\n        const instanceObj = instance;\r\n        instanceObj.shouldFocusWrapperOnClose = false;\r\n        instanceObj.closeDropbox(true); // silent close\r\n      }\r\n    });\r\n\r\n    // Add to open instances\r\n    VirtualSelect.openInstances.add(this);\r\n\r\n    DomUtils.setAttr(this.$dropboxWrapper, 'tabindex', '0');\r\n    DomUtils.setAria(this.$dropboxWrapper, 'hidden', false);\r\n\r\n    DomUtils.setAttr(this.$dropboxContainerTop, 'tabindex', '0');\r\n    DomUtils.setAria(this.$dropboxContainerTop, 'hidden', false);\r\n\r\n    DomUtils.setAttr(this.$dropboxContainerBottom, 'tabindex', '0');\r\n    DomUtils.setAria(this.$dropboxContainerBottom, 'hidden', false);\r\n\r\n    if (isSilent) {\r\n      DomUtils.setStyle(this.$dropboxContainer, 'display', 'inline-flex');\r\n    } else {\r\n      DomUtils.dispatchEvent(this.$ele, 'beforeOpen');\r\n      DomUtils.setAria(this.$wrapper, 'expanded', true);\r\n    }\r\n\r\n    this.setDropboxWrapperWidth();\r\n    DomUtils.removeClass(this.$allWrappers, 'closed');\r\n    DomUtils.changeTabIndex(this.$allWrappers, 0);\r\n\r\n    if (!isSilent) {\r\n      // Force synchronous layout and style calculation\r\n      // Trigger reflow\r\n      this.$dropboxContainer.offsetHeight; // eslint-disable-line no-unused-expressions\r\n      // Restore transitions immediately after reflow\r\n      this.$dropboxContainer.style.transition = originalTransition;\r\n    }\r\n\r\n    if (this.dropboxPopover && !isSilent) {\r\n      this.dropboxPopover.show();\r\n    } else {\r\n      this.afterShowPopper();\r\n    }\r\n  }\r\n\r\n  afterShowPopper() {\r\n    const isSilent = this.isSilentOpen;\r\n    this.isSilentOpen = false;\r\n\r\n    if (!isSilent) {\r\n      this.moveSelectedOptionsFirst();\r\n      this.setScrollTop();\r\n      DomUtils.addClass(this.$allWrappers, 'focused');\r\n\r\n      if (this.showAsPopup) {\r\n        DomUtils.addClass(this.$body, 'vscomp-popup-active');\r\n        this.isPopupActive = true;\r\n      } else {\r\n        this.focusElementOnOpen();\r\n      }\r\n\r\n      DomUtils.dispatchEvent(this.$ele, 'afterOpen');\r\n    }\r\n  }\r\n\r\n  closeDropbox(isSilent) {\r\n    this.isSilentClose = isSilent;\r\n\r\n    // Remove from open instances\r\n    VirtualSelect.openInstances.delete(this);\r\n\r\n    if (this.isOpened() === false) {\r\n      return;\r\n    }\r\n\r\n    if (this.keepAlwaysOpen) {\r\n      this.removeOptionFocus();\r\n      return;\r\n    }\r\n\r\n    if (isSilent) {\r\n      DomUtils.setStyle(this.$dropboxContainer, 'display', '');\r\n    } else {\r\n      DomUtils.dispatchEvent(this.$ele, 'beforeClose');\r\n      DomUtils.setAria(this.$wrapper, 'expanded', false);\r\n      DomUtils.setAria(this.$wrapper, 'activedescendant', '');\r\n    }\r\n\r\n    if (this.dropboxPopover && !isSilent) {\r\n      this.dropboxPopover.hide();\r\n\r\n      DomUtils.setAttr(this.$dropboxWrapper, 'tabindex', '-1');\r\n      DomUtils.setAria(this.$dropboxWrapper, 'hidden', true);\r\n\r\n      DomUtils.setAttr(this.$dropboxContainerTop, 'tabindex', '-1');\r\n      DomUtils.setAria(this.$dropboxContainerTop, 'hidden', true);\r\n\r\n      DomUtils.setAttr(this.$dropboxContainerBottom, 'tabindex', '-1');\r\n      DomUtils.setAria(this.$dropboxContainerBottom, 'hidden', true);\r\n    } else {\r\n      this.afterHidePopper();\r\n    }\r\n  }\r\n\r\n  afterHidePopper() {\r\n    const isSilent = this.isSilentClose;\r\n    this.isSilentClose = false;\r\n\r\n    DomUtils.removeClass(this.$allWrappers, 'focused');\r\n    this.removeOptionFocus();\r\n\r\n    if (!isSilent && this.isPopupActive) {\r\n      DomUtils.removeClass(this.$body, 'vscomp-popup-active');\r\n      this.isPopupActive = false;\r\n    }\r\n\r\n    DomUtils.addClass(this.$allWrappers, 'closed');\r\n\r\n    if (!isSilent) {\r\n      DomUtils.dispatchEvent(this.$ele, 'afterClose');\r\n    }\r\n\r\n    // Return focus to wrapper only when no other meaningful element currently has focus\r\n    const active = document.activeElement;\r\n    const withinComponent =\r\n      (active && this.$wrapper.contains(active)) ||\r\n      (this.hasDropboxWrapper && active && this.$dropboxWrapper.contains(active));\r\n\r\n    const shouldRefocus = this.shouldFocusWrapperOnClose &&\r\n      VirtualSelect.lastInteractedInstance === this &&\r\n      !isSilent &&\r\n      (active === null || active === document.body || withinComponent);\r\n\r\n    if (shouldRefocus) {\r\n      this.$wrapper.focus();\r\n    }\r\n\r\n    // Reset for next close\r\n    this.shouldFocusWrapperOnClose = true;\r\n\r\n    // Restore accessibility attributes that were inadvertently removed\r\n    DomUtils.setAttr(this.$dropboxWrapper, 'tabindex', '-1');\r\n    DomUtils.setAria(this.$dropboxWrapper, 'hidden', true);\r\n\r\n    DomUtils.setAttr(this.$dropboxContainerTop, 'tabindex', '-1');\r\n    DomUtils.setAria(this.$dropboxContainerTop, 'hidden', true);\r\n\r\n    DomUtils.setAttr(this.$dropboxContainerBottom, 'tabindex', '-1');\r\n    DomUtils.setAria(this.$dropboxContainerBottom, 'hidden', true);\r\n  }\r\n\r\n  moveSelectedOptionsFirst() {\r\n    if (!this.$optionsContainer.scrollTop || !this.selectedValues.length) {\r\n      this.setVisibleOptions();\r\n    }\r\n\r\n    if (!this.showSelectedOptionsFirst) {\r\n      return;\r\n    }\r\n\r\n    this.setSortedOptions();\r\n    this.scrollToTop();\r\n    this.setVisibleOptions();\r\n  }\r\n\r\n  toggleDropbox() {\r\n    VirtualSelect.lastInteractedInstance = this;\r\n    if (this.isOpened()) {\r\n      this.closeDropbox();\r\n    } else {\r\n      this.openDropbox();\r\n    }\r\n  }\r\n\r\n  updatePosition() {\r\n    if (!this.dropboxPopover || !this.isOpened()) {\r\n      return;\r\n    }\r\n\r\n    this.$ele.updatePosition();\r\n  }\r\n\r\n  isOpened() {\r\n    return !DomUtils.hasClass(this.$wrapper, 'closed');\r\n  }\r\n\r\n  focusSearchInput() {\r\n    const $ele = this.$searchInput;\r\n\r\n    if ($ele) {\r\n      $ele.focus();\r\n    }\r\n  }\r\n\r\n  focusElementOnOpen() {\r\n    const $ele = this.$searchInput;\r\n    const hasNoOptions = !this.options.length && !this.hasServerSearch;\r\n\r\n    if ($ele) {\r\n      if (hasNoOptions && !this.allowNewOption) {\r\n        DomUtils.setAttr($ele, 'disabled', '');\r\n        this.$noOptions.focus();\r\n      } else {\r\n        $ele.removeAttribute('disabled');\r\n        $ele.focus();\r\n      }\r\n    } else {\r\n      const $focusableEle = this.$dropbox.querySelector('[tabindex=\"0\"]');\r\n      const optIndex = DomUtils.getData($focusableEle, 'index');\r\n\r\n      if (optIndex !== undefined) {\r\n        this.focusOption({ direction: 'next' });\r\n      } else if ($focusableEle) {\r\n        $focusableEle.focus();\r\n      } else {\r\n        this.focusFirstVisibleOption();\r\n      }\r\n    }\r\n  }\r\n\r\n  focusFirstVisibleOption() {\r\n    let $focusableEle = this.$optionsContainer.querySelector(`[data-index='${this.getFirstVisibleOptionIndex()}']`);\r\n\r\n    if ($focusableEle) {\r\n      if (DomUtils.hasClass($focusableEle, 'group-title')) {\r\n        $focusableEle = this.getSibling($focusableEle, 'next');\r\n      }\r\n\r\n      DomUtils.setAttr($focusableEle, 'tabindex', '0');\r\n      this.$optionsContainer.scrollTop = this.optionHeight * this.getFirstVisibleOptionIndex();\r\n      this.focusOption({\r\n        focusFirst: true,\r\n      });\r\n      $focusableEle.focus();\r\n    } else {\r\n      $focusableEle = this.$dropbox.querySelector('[tabindex=\"0\"]');\r\n      if ($focusableEle) {\r\n        $focusableEle.focus();\r\n      }\r\n    }\r\n  }\r\n\r\n  focusOption({ direction, $option, focusFirst } = {}) {\r\n    const $focusedEle = this.$dropboxContainer.querySelector('.vscomp-option.focused');\r\n    let $newFocusedEle;\r\n\r\n    if ($option) {\r\n      $newFocusedEle = $option;\r\n    } else if (!$focusedEle || focusFirst) {\r\n      /* if no element on focus choose first visible one */\r\n      const firstVisibleOptionIndex = this.getFirstVisibleOptionIndex();\r\n      $newFocusedEle = this.$dropboxContainer.querySelector(\r\n        `.vscomp-option[data-visible-index=\"${firstVisibleOptionIndex}\"]`,\r\n      );\r\n\r\n      if (DomUtils.hasClass($newFocusedEle, 'disabled') || DomUtils.hasClass($newFocusedEle, 'group-title')) {\r\n        $newFocusedEle = this.getSibling($newFocusedEle, 'next');\r\n      }\r\n    } else {\r\n      $newFocusedEle = this.getSibling($focusedEle, direction);\r\n    }\r\n\r\n    if ($newFocusedEle && $newFocusedEle !== $focusedEle) {\r\n      if ($focusedEle) {\r\n        this.toggleOptionFocusedState($focusedEle, false);\r\n      }\r\n\r\n      this.toggleOptionFocusedState($newFocusedEle, true);\r\n      this.toggleFocusedProp(DomUtils.getData($newFocusedEle, 'index'), true);\r\n      this.moveFocusedOptionToView($newFocusedEle);\r\n    }\r\n  }\r\n\r\n  moveFocusedOptionToView($ele) {\r\n    const $focusedEle = $ele || this.$dropboxContainer.querySelector('.vscomp-option.focused');\r\n\r\n    if (!$focusedEle) {\r\n      return;\r\n    }\r\n\r\n    let newScrollTop;\r\n    const containerRect = this.$optionsContainer.getBoundingClientRect();\r\n    const optionRect = $focusedEle.getBoundingClientRect();\r\n    const containerTop = containerRect.top;\r\n    const containerBottom = containerRect.bottom;\r\n    const containerHeight = containerRect.height;\r\n    const optionTop = optionRect.top;\r\n    const optionBottom = optionRect.bottom;\r\n    const optionHeight = optionRect.height;\r\n    const optionOffsetTop = $focusedEle.offsetTop;\r\n    const optionsTop = DomUtils.getData(this.$options, 'top', 'number');\r\n\r\n    /* if option hidden on top */\r\n    if (containerTop > optionTop) {\r\n      newScrollTop = optionOffsetTop + optionsTop;\r\n    } else if (containerBottom < optionBottom) {\r\n      /* if option hidden on bottom */\r\n      newScrollTop = optionOffsetTop - containerHeight + optionHeight + optionsTop;\r\n    }\r\n\r\n    if (newScrollTop !== undefined) {\r\n      this.$optionsContainer.scrollTop = newScrollTop;\r\n    }\r\n  }\r\n\r\n  removeOptionFocus() {\r\n    const $focusedEle = this.$dropboxContainer.querySelector('.vscomp-option.focused');\r\n\r\n    if (!$focusedEle) {\r\n      return;\r\n    }\r\n\r\n    this.toggleOptionFocusedState($focusedEle, false);\r\n    this.toggleFocusedProp(null);\r\n  }\r\n\r\n  selectOption($ele, { event } = {}) {\r\n    if (!$ele) {\r\n      return;\r\n    }\r\n\r\n    const isAdding = !DomUtils.hasClass($ele, 'selected');\r\n\r\n    if (isAdding) {\r\n      if (this.multiple && this.isMaxValuesSelected) {\r\n        return;\r\n      }\r\n    /** Royale: 1.40.3 -> Add keepAlwaysOpen condition\r\n     * In list mode - not multi, when we select an option it should not execute closeDropbox()\r\n     * because it behaves like a select and deletes the content of the Search and rebuilds the options unnecessarily.\r\n     */\r\n    } else if (!this.multiple && !this.keepAlwaysOpen) {\r\n      /** on selecting same value in single select */\r\n      this.closeDropbox();\r\n      return;\r\n    }\r\n\r\n    let { selectedValues } = this;\r\n    const selectedValue = DomUtils.getData($ele, 'value');\r\n    const selectedIndex = DomUtils.getData($ele, 'index', 'number');\r\n    const isNewOption = DomUtils.hasClass($ele, 'current-new');\r\n    let shouldSelectRange = false;\r\n    const { lastSelectedOptionIndex } = this;\r\n    this.lastSelectedOptionIndex = null;\r\n\r\n    this.toggleSelectedProp(selectedIndex, isAdding);\r\n\r\n    if (isAdding) {\r\n      if (this.multiple) {\r\n        selectedValues.push(selectedValue);\r\n        this.toggleAllOptionsClass();\r\n        this.toggleGroupOptionsParent($ele);\r\n\r\n        if (event && event.shiftKey) {\r\n          shouldSelectRange = true;\r\n        }\r\n      } else {\r\n        if (selectedValues.length) {\r\n          this.toggleSelectedProp(this.getOptionIndex(selectedValues[0]), false);\r\n        }\r\n\r\n        selectedValues = [selectedValue];\r\n        const $prevSelectedOption = this.$dropboxContainer.querySelector('.vscomp-option.selected');\r\n\r\n        if ($prevSelectedOption) {\r\n          this.toggleOptionSelectedState($prevSelectedOption, false);\r\n        }\r\n\r\n        this.closeDropbox();\r\n        /** Royale: 1.40.3 -> Add keepAlwaysOpen condition */\r\n        if (!isNewOption && !this.keepAlwaysOpen) {\r\n          this.setSearchValue('');\r\n        }\r\n      }\r\n\r\n      this.lastSelectedOptionIndex = selectedIndex;\r\n\r\n      this.toggleOptionSelectedState($ele);\r\n    } else if (this.multiple) {\r\n      this.toggleOptionSelectedState($ele);\r\n      Utils.removeItemFromArray(selectedValues, selectedValue);\r\n      this.toggleAllOptionsClass(false);\r\n      this.toggleGroupOptionsParent($ele, false);\r\n    }\r\n\r\n    if (isNewOption) {\r\n      this.beforeSelectNewValue();\r\n    }\r\n\r\n    this.setValue(selectedValues);\r\n\r\n    if (shouldSelectRange) {\r\n      this.selectRangeOptions(lastSelectedOptionIndex, selectedIndex);\r\n    }\r\n  }\r\n\r\n  selectFocusedOption() {\r\n    this.selectOption(this.$dropboxContainer.querySelector('.vscomp-option.focused'));\r\n  }\r\n\r\n  selectRangeOptions(lastSelectedOptionIndex, selectedIndex) {\r\n    if (typeof lastSelectedOptionIndex !== 'number' || this.maxValues) {\r\n      return;\r\n    }\r\n\r\n    const { selectedValues, hasOptionGroup } = this;\r\n    let groupIndexes = {};\r\n    let startIndex;\r\n    let endIndex;\r\n\r\n    if (lastSelectedOptionIndex < selectedIndex) {\r\n      startIndex = lastSelectedOptionIndex;\r\n      endIndex = selectedIndex;\r\n    } else {\r\n      startIndex = selectedIndex;\r\n      endIndex = lastSelectedOptionIndex;\r\n    }\r\n\r\n    this.options.forEach((d) => {\r\n      if (d.isDisabled || d.isGroupTitle || !d.isVisible || d.isSelected) {\r\n        return;\r\n      }\r\n\r\n      const { index } = d;\r\n\r\n      if (index > startIndex && index < endIndex) {\r\n        if (hasOptionGroup) {\r\n          const { groupIndex } = d;\r\n\r\n          if (typeof groupIndex === 'number') {\r\n            groupIndexes[groupIndex] = true;\r\n          }\r\n        }\r\n\r\n        // eslint-disable-next-line no-param-reassign\r\n        d.isSelected = true;\r\n\r\n        selectedValues.push(d.value);\r\n      }\r\n    });\r\n\r\n    this.toggleAllOptionsClass();\r\n    this.setValue(selectedValues);\r\n\r\n    groupIndexes = Object.keys(groupIndexes);\r\n\r\n    if (groupIndexes.length) {\r\n      const toggleGroupTitleProp = this.toggleGroupTitleProp.bind(this);\r\n\r\n      groupIndexes.forEach((i) => {\r\n        toggleGroupTitleProp(parseInt(i));\r\n      });\r\n    }\r\n\r\n    /** using setTimeout to fix the issue of dropbox getting closed on select */\r\n    setTimeout(() => {\r\n      this.renderOptions();\r\n    }, 0);\r\n  }\r\n\r\n  toggleAllOptions(selectAll) {\r\n    if (!this.multiple || this.disableSelectAll) {\r\n      return;\r\n    }\r\n\r\n    const selectingAll =\r\n      typeof isSelected === 'boolean' ? selectAll : !DomUtils.hasClass(this.$toggleAllCheckbox, 'checked');\r\n\r\n    const selectedValues = [];\r\n    const { selectAllOnlyVisible } = this;\r\n\r\n    this.options.forEach((d) => {\r\n      const option = d;\r\n\r\n      if (option.isDisabled || option.isCurrentNew) {\r\n        return;\r\n      }\r\n\r\n      const { isVisible, isSelected } = option;\r\n\r\n      /** unselected items are */\r\n      if (\r\n        /** when unselecting all, selectAllOnlyVisible feature disabled or visible items or already unselected items */\r\n        (!selectingAll && (!selectAllOnlyVisible || isVisible || !isSelected)) ||\r\n        /** when selecting all, selectAllOnlyVisible feature enabled and hidden items those are not already selected */\r\n        (selectingAll && selectAllOnlyVisible && !isVisible && !isSelected)\r\n      ) {\r\n        option.isSelected = false;\r\n      } else {\r\n        option.isSelected = true;\r\n\r\n        if (!option.isGroupTitle) {\r\n          selectedValues.push(option.value);\r\n        }\r\n      }\r\n    });\r\n\r\n    this.toggleAllOptionsClass(selectingAll);\r\n    this.setValue(selectedValues);\r\n    this.renderOptions();\r\n  }\r\n\r\n  toggleAllOptionsClass(isAllSelected) {\r\n    if (!this.multiple) {\r\n      return;\r\n    }\r\n\r\n    const valuePassed = typeof isAllSelected === 'boolean';\r\n    let isAllVisibleSelected = false;\r\n\r\n    if (!valuePassed) {\r\n      // eslint-disable-next-line no-param-reassign\r\n      isAllSelected = this.isAllOptionsSelected();\r\n    }\r\n\r\n    /** When all options not selected, checking if all visible options selected\r\n     *  Also, in a search mode, validate that we still have visible items\r\n    */\r\n    if (!isAllSelected && this.selectAllOnlyVisible &&\r\n      (this.searchValue !== '' && (this.visibleOptionsCount > 0 || this.searchValue === ''))) {\r\n      isAllVisibleSelected = this.isAllOptionsSelected(true);\r\n    }\r\n\r\n    DomUtils.toggleClass(this.$toggleAllCheckbox, 'checked', isAllSelected || isAllVisibleSelected);\r\n\r\n    this.isAllSelected = isAllSelected;\r\n  }\r\n\r\n  isAllOptionsSelected(visibleOnly) {\r\n    let isAllSelected = false;\r\n\r\n    if (this.options.length && this.selectedValues.length) {\r\n      isAllSelected = !this.options.some(\r\n        /**\r\n         * stop looping if any option is not selected\r\n         * for selectAllOnlyVisible case hidden option need not to be selected\r\n         */\r\n        (d) => !d.isSelected && !d.isDisabled && !d.isGroupTitle && (!visibleOnly || d.isVisible),\r\n      );\r\n    }\r\n\r\n    return isAllSelected;\r\n  }\r\n\r\n  isAllGroupOptionsSelected(groupIndex) {\r\n    let isAllSelected = false;\r\n\r\n    if (this.options.length) {\r\n      isAllSelected = !this.options.some(\r\n        (d) => !d.isSelected && !d.isDisabled && !d.isGroupTitle && d.groupIndex === groupIndex,\r\n      );\r\n    }\r\n\r\n    return isAllSelected;\r\n  }\r\n\r\n  toggleGroupOptionsParent($option, isSelected) {\r\n    if (!this.hasOptionGroup || this.disableOptionGroupCheckbox || !$option) {\r\n      return;\r\n    }\r\n\r\n    let groupIndex = DomUtils.getData($option, 'groupIndex');\r\n\r\n    if (groupIndex !== undefined) {\r\n      groupIndex = parseInt(groupIndex);\r\n    }\r\n\r\n    const $group = this.$options.querySelector(`.vscomp-option[data-index=\"${groupIndex}\"]`);\r\n    const isAllSelected = typeof isSelected === 'boolean' ? isSelected : this.isAllGroupOptionsSelected(groupIndex);\r\n\r\n    this.toggleGroupTitleCheckbox($group, isAllSelected);\r\n    this.toggleGroupTitleProp(groupIndex, isAllSelected);\r\n  }\r\n\r\n  toggleGroupTitleProp(groupIndex, isSelected) {\r\n    const isAllSelected = typeof isSelected === 'boolean' ? isSelected : this.isAllGroupOptionsSelected(groupIndex);\r\n\r\n    this.toggleSelectedProp(groupIndex, isAllSelected);\r\n  }\r\n\r\n  toggleGroupOptions($ele, isSelected) {\r\n    if (!this.hasOptionGroup || this.disableOptionGroupCheckbox || !$ele) {\r\n      return;\r\n    }\r\n\r\n    const groupIndex = DomUtils.getData($ele, 'index', 'number');\r\n    const { selectedValues, selectAllOnlyVisible } = this;\r\n    const valuesMapping = {};\r\n    const { removeItemFromArray } = Utils;\r\n\r\n    selectedValues.forEach((d) => {\r\n      valuesMapping[d] = true;\r\n    });\r\n\r\n    this.options.forEach((d) => {\r\n      if (d.isDisabled || d.groupIndex !== groupIndex) {\r\n        return;\r\n      }\r\n\r\n      const { value } = d;\r\n\r\n      if (!isSelected || (selectAllOnlyVisible && !d.isVisible)) {\r\n        // eslint-disable-next-line no-param-reassign\r\n        d.isSelected = false;\r\n\r\n        if (valuesMapping[value]) {\r\n          removeItemFromArray(selectedValues, value);\r\n        }\r\n      } else {\r\n        // eslint-disable-next-line no-param-reassign\r\n        d.isSelected = true;\r\n\r\n        if (!valuesMapping[value]) {\r\n          selectedValues.push(value);\r\n        }\r\n      }\r\n    });\r\n\r\n    this.toggleAllOptionsClass(isSelected ? null : false);\r\n    this.setValue(selectedValues);\r\n\r\n    /** using setTimeout to fix the issue of dropbox getting closed on select */\r\n    setTimeout(() => {\r\n      this.renderOptions();\r\n    }, 0);\r\n  }\r\n\r\n  toggleGroupTitleCheckbox($ele, isSelected) {\r\n    if (!$ele) {\r\n      return;\r\n    }\r\n\r\n    const selectedIndex = DomUtils.getData($ele, 'index', 'number');\r\n\r\n    this.toggleSelectedProp(selectedIndex, isSelected);\r\n    this.toggleOptionSelectedState($ele, isSelected);\r\n  }\r\n\r\n  toggleFocusedProp(index, isFocused = false) {\r\n    if (this.focusedOptionIndex) {\r\n      this.setOptionProp(this.focusedOptionIndex, 'isFocused', false);\r\n    }\r\n\r\n    this.setOptionProp(index, 'isFocused', isFocused);\r\n    this.focusedOptionIndex = index;\r\n  }\r\n\r\n  toggleSelectedProp(index, isSelected = false) {\r\n    this.setOptionProp(index, 'isSelected', isSelected);\r\n  }\r\n\r\n  scrollToTop() {\r\n    const { scrollTop } = this.$optionsContainer;\r\n\r\n    if (scrollTop > 0) {\r\n      this.$optionsContainer.scrollTop = 0;\r\n    }\r\n  }\r\n\r\n  reset(formReset = false, disableChangeEvent = false) {\r\n    this.options.forEach((d) => {\r\n      // eslint-disable-next-line no-param-reassign\r\n      d.isSelected = false;\r\n    });\r\n\r\n    this.beforeValueSet(true);\r\n    this.setValue(null, { disableEvent: disableChangeEvent, disableValidation: formReset });\r\n    this.afterValueSet();\r\n\r\n    if (formReset) {\r\n      DomUtils.removeClass(this.$allWrappers, 'has-error');\r\n    }\r\n\r\n    DomUtils.dispatchEvent(this.$ele, 'reset');\r\n  }\r\n\r\n  addOption(data, rerender) {\r\n    if (!data) {\r\n      return;\r\n    }\r\n\r\n    this.lastOptionIndex += 1;\r\n\r\n    const newOption = this.getOptionObj({\r\n      ...data,\r\n      index: this.lastOptionIndex,\r\n    });\r\n\r\n    this.options.push(newOption);\r\n    this.sortedOptions.push(newOption);\r\n\r\n    if (rerender) {\r\n      this.visibleOptionsCount += 1;\r\n      this.afterSetOptions();\r\n    }\r\n  }\r\n\r\n  removeOption(index) {\r\n    if (!index && index !== 0) {\r\n      return;\r\n    }\r\n\r\n    this.options.splice(index, 1);\r\n    this.lastOptionIndex -= 1;\r\n  }\r\n\r\n  removeNewOption() {\r\n    const newOption = this.getNewOption();\r\n\r\n    if (newOption) {\r\n      this.removeOption(newOption.index);\r\n    }\r\n  }\r\n\r\n  sortOptions(options) {\r\n    return options.sort((a, b) => {\r\n      const aIsSelected = a.isSelected || a.isAnySelected;\r\n      const bIsSelected = b.isSelected || b.isAnySelected;\r\n\r\n      if (!aIsSelected && !bIsSelected) {\r\n        return 0;\r\n      }\r\n\r\n      if (aIsSelected && (!bIsSelected || a.index < b.index)) {\r\n        return -1;\r\n      }\r\n\r\n      return 1;\r\n    });\r\n  }\r\n\r\n  sortOptionsGroup(options) {\r\n    const sortOptions = this.sortOptions.bind(this);\r\n    const structuredOptions = this.structureOptionGroup(options);\r\n\r\n    structuredOptions.forEach((d) => {\r\n      const childOptions = d.options;\r\n      // eslint-disable-next-line no-param-reassign\r\n      d.isAnySelected = childOptions.some((e) => e.isSelected);\r\n\r\n      if (d.isAnySelected) {\r\n        sortOptions(childOptions);\r\n      }\r\n    });\r\n\r\n    sortOptions(structuredOptions);\r\n\r\n    return this.destructureOptionGroup(structuredOptions);\r\n  }\r\n\r\n  isOptionVisible({ data, searchValue, hasExactOption, visibleOptionGroupsMapping, searchGroup, searchByStartsWith }) {\r\n    const value = data.value.toLowerCase();\r\n    const label = (this.searchNormalize && data.labelNormalized != null)\r\n      ? data.labelNormalized\r\n      : (data.label || '').trim().toLowerCase();\r\n    const { description, alias } = data;\r\n\r\n    let isVisible = searchByStartsWith ? label.startsWith(searchValue) : label.includes(searchValue);\r\n\r\n    if (data.isGroupTitle && (!searchGroup || !isVisible)) {\r\n      isVisible = visibleOptionGroupsMapping[data.index];\r\n    }\r\n\r\n    if (!searchByStartsWith && alias && !isVisible) {\r\n      isVisible = alias.includes(searchValue);\r\n    }\r\n\r\n    if (!searchByStartsWith && description && !isVisible) {\r\n      isVisible = description.toLowerCase().includes(searchValue);\r\n    }\r\n\r\n    // eslint-disable-next-line no-param-reassign\r\n    data.isVisible = isVisible;\r\n\r\n    if (!hasExactOption) {\r\n      // eslint-disable-next-line no-param-reassign\r\n      hasExactOption = label === searchValue || value === searchValue;\r\n    }\r\n\r\n    return {\r\n      isVisible,\r\n      hasExactOption,\r\n    };\r\n  }\r\n\r\n  structureOptionGroup(options) {\r\n    const result = [];\r\n    const childOptions = {};\r\n\r\n    /** getting all group title */\r\n    options.forEach((d) => {\r\n      if (d.isGroupTitle) {\r\n        const childArray = [];\r\n        // eslint-disable-next-line no-param-reassign\r\n        d.options = childArray;\r\n        childOptions[d.index] = childArray;\r\n\r\n        result.push(d);\r\n      }\r\n    });\r\n\r\n    /** getting all group options */\r\n    options.forEach((d) => {\r\n      if (d.isGroupOption) {\r\n        childOptions[d.groupIndex].push(d);\r\n      }\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  destructureOptionGroup(options) {\r\n    let result = [];\r\n\r\n    options.forEach((d) => {\r\n      result.push(d);\r\n      result = result.concat(d.options);\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  serverSearch() {\r\n    DomUtils.removeClass(this.$allWrappers, 'has-no-search-results');\r\n    DomUtils.addClass(this.$allWrappers, 'server-searching');\r\n\r\n    this.setSelectedOptions();\r\n    this.onServerSearch(this.searchValue, this);\r\n  }\r\n\r\n  removeValue($ele) {\r\n    const { selectedValues } = this;\r\n    const selectedValue = DomUtils.getData($ele, 'value');\r\n\r\n    Utils.removeItemFromArray(selectedValues, selectedValue);\r\n    this.setValueMethod(selectedValues);\r\n  }\r\n\r\n  focus() {\r\n    this.$wrapper.focus();\r\n  }\r\n\r\n  enable() {\r\n    this.$ele.disabled = false;\r\n\r\n    this.$ele.removeAttribute('disabled');\r\n    this.$hiddenInput.removeAttribute('disabled');\r\n    DomUtils.setAria(this.$wrapper, 'disabled', false);\r\n    DomUtils.changeTabIndex(this.$wrapper, 0);\r\n  }\r\n\r\n  disable() {\r\n    this.$ele.disabled = true;\r\n\r\n    this.$ele.setAttribute('disabled', '');\r\n    this.$hiddenInput.setAttribute('disabled', '');\r\n    DomUtils.setAria(this.$wrapper, 'disabled', true);\r\n    DomUtils.changeTabIndex(this.$wrapper, -1);\r\n    this.$wrapper.blur();\r\n  }\r\n\r\n  // Royale\r\n  setReadOnly(value) {\r\n    if (value === this.$ele.readOnly) {\r\n      return;\r\n    }\r\n\r\n    this.$ele.readOnly = value;\r\n    this.$ele.toggleAttribute('read-only');\r\n    this.$hiddenInput.toggleAttribute('read-only');\r\n    DomUtils.setAria(this.$wrapper, 'read-only', value);\r\n    if (value) {\r\n      this.removeEvents();\r\n    } else {\r\n      this.addEvents();\r\n    }\r\n  }\r\n  // End Royale\r\n\r\n  validate() {\r\n    if (this.disableValidation) {\r\n      return true;\r\n    }\r\n\r\n    let hasError = false;\r\n    const { selectedValues, minValues } = this;\r\n\r\n    if (\r\n      this.required &&\r\n      (Utils.isEmpty(selectedValues) ||\r\n        /** required minium options not selected */\r\n        (this.multiple && minValues && selectedValues.length < minValues))\r\n    ) {\r\n      hasError = true;\r\n    }\r\n\r\n    DomUtils.toggleClass(this.$allWrappers, 'has-error', hasError);\r\n\r\n    return !hasError;\r\n  }\r\n\r\n  destroy() {\r\n    const { $ele } = this;\r\n    $ele.virtualSelect = undefined;\r\n    $ele.value = undefined;\r\n    $ele.innerHTML = '';\r\n\r\n    // Remove from open instances\r\n    VirtualSelect.openInstances.delete(this);\r\n\r\n    // Reset the last interacted instance only if this is the last interacted instance\r\n    if (this === VirtualSelect.lastInteractedInstance) {\r\n      VirtualSelect.lastInteractedInstance = null;\r\n    }\r\n    /** Remove all event listeners to prevent memory leaks and ensure proper cleanup */\r\n    this.removeEvents();\r\n\r\n    if (this.hasDropboxWrapper) {\r\n      this.$dropboxWrapper.remove();\r\n    }\r\n\r\n    if (this.dropboxPopover) {\r\n      this.dropboxPopover.destroy();\r\n    }\r\n\r\n    DomUtils.removeClass($ele, 'vscomp-ele');\r\n  }\r\n\r\n  createSecureTextElements() {\r\n    this.$secureDiv = document.createElement('div');\r\n    this.$secureText = document.createTextNode('');\r\n\r\n    this.$secureDiv.appendChild(this.$secureText);\r\n  }\r\n\r\n  secureText(text) {\r\n    if (!text || !this.enableSecureText) {\r\n      return text;\r\n    }\r\n    /** escape potentially harmful JavaScript so, label and value fields cannot trigger XSS */\r\n    this.$secureText.nodeValue = Utils.replaceDoubleQuotesWithHTML(text);\r\n\r\n    return this.$secureDiv.innerHTML;\r\n  }\r\n\r\n  toggleRequired(isRequired) {\r\n    this.required = Utils.convertToBoolean(isRequired);\r\n    this.$ele.required = this.required;\r\n  }\r\n\r\n  toggleOptionSelectedState($ele, value) {\r\n    let isSelected = value;\r\n\r\n    if (typeof isSelected === 'undefined') {\r\n      isSelected = !DomUtils.hasClass($ele, 'selected');\r\n    }\r\n\r\n    DomUtils.toggleClass($ele, 'selected', isSelected);\r\n    DomUtils.setAria($ele, 'selected', isSelected);\r\n  }\r\n\r\n  toggleOptionFocusedState($ele, isFocused) {\r\n    if (!$ele) {\r\n      return;\r\n    }\r\n\r\n    DomUtils.toggleClass($ele, 'focused', isFocused);\r\n    DomUtils.setAttr($ele, 'tabindex', isFocused ? '0' : '-1');\r\n\r\n    if (document.activeElement !== this.$searchInput) {\r\n      $ele.focus();\r\n    }\r\n\r\n    if (isFocused) {\r\n      DomUtils.setAria(this.$wrapper, 'activedescendant', $ele.id);\r\n    }\r\n  }\r\n\r\n  /** static methods - start */\r\n  static init(options) {\r\n    let $eleArray = options.ele;\r\n\r\n    if (!$eleArray) {\r\n      return undefined;\r\n    }\r\n\r\n    let singleEle = false;\r\n\r\n    if (typeof $eleArray === 'string') {\r\n      $eleArray = document.querySelectorAll($eleArray);\r\n      const eleLength = $eleArray.length;\r\n\r\n      if (eleLength === 0) {\r\n        return undefined;\r\n      }\r\n\r\n      if (eleLength === 1) {\r\n        singleEle = true;\r\n      }\r\n    }\r\n\r\n    if ($eleArray.length === undefined || $eleArray.forEach === undefined) {\r\n      $eleArray = [$eleArray];\r\n      singleEle = true;\r\n    }\r\n\r\n    const instances = [];\r\n    $eleArray.forEach(($ele) => {\r\n      /** skipping initialization on calling init method multiple times */\r\n      if ($ele.virtualSelect) {\r\n        instances.push($ele.virtualSelect);\r\n        return;\r\n      }\r\n\r\n      // eslint-disable-next-line no-param-reassign\r\n      options.ele = $ele;\r\n\r\n      if ($ele.tagName === 'SELECT') {\r\n        VirtualSelect.setPropsFromSelect(options);\r\n      }\r\n\r\n      instances.push(new VirtualSelect(options));\r\n    });\r\n\r\n    return singleEle ? instances[0] : instances;\r\n  }\r\n\r\n  static getAttrProps() {\r\n    const { convertPropToDataAttr } = DomUtils;\r\n    const result = {};\r\n\r\n    nativeProps.forEach((d) => {\r\n      result[d] = d;\r\n    });\r\n\r\n    dataProps.forEach((d) => {\r\n      result[convertPropToDataAttr(d)] = d;\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  static setPropsFromSelect(props) {\r\n    const $ele = props.ele;\r\n    const disabledOptions = [];\r\n    const selectedValue = [];\r\n\r\n    const getNativeOptions = ($container) => {\r\n      const options = [];\r\n      const $options = Array.from($container.children);\r\n\r\n      $options.forEach(($option) => {\r\n        const { value } = $option;\r\n        const option = {\r\n          value,\r\n        };\r\n\r\n        if ($option.tagName === 'OPTGROUP') {\r\n          option.label = $option.getAttribute('label');\r\n          option.options = getNativeOptions($option);\r\n        } else {\r\n          option.label = $option.innerHTML;\r\n        }\r\n\r\n        options.push(option);\r\n\r\n        if ($option.disabled) {\r\n          disabledOptions.push(value);\r\n        }\r\n\r\n        if ($option.selected) {\r\n          selectedValue.push(value);\r\n        }\r\n      });\r\n\r\n      return options;\r\n    };\r\n\r\n    const optionsList = getNativeOptions($ele);\r\n\r\n    /** creating div element to initiate plugin and removing native element */\r\n    const $newEle = document.createElement('div');\r\n\r\n    DomUtils.setAttrFromEle($ele, $newEle, Object.keys(attrPropsMapping), valueLessProps);\r\n    $ele.parentNode.insertBefore($newEle, $ele);\r\n    $ele.remove();\r\n\r\n    // eslint-disable-next-line no-param-reassign\r\n    props.ele = $newEle;\r\n    // eslint-disable-next-line no-param-reassign\r\n    props.options = optionsList;\r\n    // eslint-disable-next-line no-param-reassign\r\n    props.disabledOptions = disabledOptions;\r\n    // eslint-disable-next-line no-param-reassign\r\n    props.selectedValue = selectedValue;\r\n  }\r\n\r\n  static onFormReset(e) {\r\n    const $form = e.target.closest('form');\r\n\r\n    if (!$form) {\r\n      return;\r\n    }\r\n\r\n    $form.querySelectorAll('.vscomp-ele-wrapper').forEach(($ele) => {\r\n      $ele.parentElement.virtualSelect.reset(true);\r\n    });\r\n  }\r\n\r\n  static onFormSubmit(e) {\r\n    if (!VirtualSelect.validate(e.target.closest('form'))) {\r\n      e.preventDefault();\r\n    }\r\n  }\r\n\r\n  static validate($container) {\r\n    if (!$container) {\r\n      return true;\r\n    }\r\n\r\n    let hasError = false;\r\n\r\n    $container.querySelectorAll('.vscomp-ele-wrapper').forEach(($ele) => {\r\n      const result = $ele.parentElement.virtualSelect.validate();\r\n\r\n      if (!hasError && !result) {\r\n        hasError = true;\r\n      }\r\n    });\r\n\r\n    return !hasError;\r\n  }\r\n\r\n  static reset(formReset = false, disableChangeEvent = false) {\r\n    this.virtualSelect.reset(formReset, disableChangeEvent);\r\n  }\r\n\r\n  static setValueMethod(...params) {\r\n    this.virtualSelect.setValueMethod(...params);\r\n    // Royale\r\n    if (this.virtualSelect.focusSelectedOptionOnOpen && this.virtualSelect.keepAlwaysOpen) {\r\n      this.virtualSelect.setScrollTop();\r\n    }\r\n    // End Royale\r\n  }\r\n\r\n  static setOptionsMethod(...params) {\r\n    this.virtualSelect.setOptionsMethod(...params);\r\n  }\r\n\r\n  static setDisabledOptionsMethod(...params) {\r\n    this.virtualSelect.setDisabledOptionsMethod(...params);\r\n  }\r\n\r\n  static setEnabledOptionsMethod(...params) {\r\n    this.virtualSelect.setEnabledOptionsMethod(...params);\r\n  }\r\n\r\n  static toggleSelectAll(isSelected) {\r\n    this.virtualSelect.toggleAllOptions(isSelected);\r\n  }\r\n\r\n  static isAllSelected() {\r\n    return this.virtualSelect.isAllSelected;\r\n  }\r\n\r\n  static addOptionMethod(data) {\r\n    this.virtualSelect.addOption(data, true);\r\n  }\r\n\r\n  static getNewValueMethod() {\r\n    return this.virtualSelect.getNewValue();\r\n  }\r\n\r\n  static getDisplayValueMethod() {\r\n    return this.virtualSelect.getDisplayValue();\r\n  }\r\n\r\n  static getSelectedOptionsMethod(params) {\r\n    return this.virtualSelect.getSelectedOptions(params);\r\n  }\r\n\r\n  static getDisabledOptionsMethod() {\r\n    return this.virtualSelect.getDisabledOptions();\r\n  }\r\n\r\n  static openMethod() {\r\n    return this.virtualSelect.openDropbox();\r\n  }\r\n\r\n  static closeMethod() {\r\n    return this.virtualSelect.closeDropbox();\r\n  }\r\n\r\n  static focusMethod() {\r\n    return this.virtualSelect.focus();\r\n  }\r\n\r\n  static enableMethod() {\r\n    return this.virtualSelect.enable();\r\n  }\r\n\r\n  static disableMethod() {\r\n    return this.virtualSelect.disable();\r\n  }\r\n\r\n  // Royale\r\n  static setReadOnlyMethod(value) {\r\n    return this.virtualSelect.setReadOnly(value);\r\n  }\r\n\r\n  // End Royale\r\n  static destroyMethod() {\r\n    return this.virtualSelect.destroy();\r\n  }\r\n\r\n  static validateMethod() {\r\n    return this.virtualSelect.validate();\r\n  }\r\n\r\n  static toggleRequiredMethod(isRequired) {\r\n    return this.virtualSelect.toggleRequired(isRequired);\r\n  }\r\n\r\n  static onResizeMethod() {\r\n    document.querySelectorAll('.vscomp-ele-wrapper').forEach(($ele) => {\r\n      $ele.parentElement.virtualSelect.onResize();\r\n    });\r\n  }\r\n  /** static methods - end */\r\n}\r\n\r\ndocument.addEventListener('reset', VirtualSelect.onFormReset);\r\ndocument.addEventListener('submit', VirtualSelect.onFormSubmit);\r\nwindow.addEventListener('resize', VirtualSelect.onResizeMethod);\r\n\r\nattrPropsMapping = VirtualSelect.getAttrProps();\r\nwindow.VirtualSelect = VirtualSelect;\r\n\r\n// Static property for tracking open dropdowns\r\nVirtualSelect.openInstances = new Set();\r\n\r\n// Static property for tracking the last interacted instance\r\nVirtualSelect.lastInteractedInstance = null;\r\n\r\n/** polyfill to fix an issue in ie browser */\r\nif (typeof NodeList !== 'undefined' && NodeList.prototype && !NodeList.prototype.forEach) {\r\n  NodeList.prototype.forEach = Array.prototype.forEach;\r\n}\r\n","/*!\n * Popover v1.0.13\n * https://sa-si-dev.github.io/popover\n * Licensed under MIT (https://github.com/sa-si-dev/popover/blob/master/LICENSE)\n */!function(){\"use strict\";function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(e)||function(e,o){if(e){if(\"string\"==typeof e)return t(e,o);var i=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===i&&e.constructor&&(i=e.constructor.name),\"Map\"===i||\"Set\"===i?Array.from(e):\"Arguments\"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(e,o):void 0}}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,i=new Array(t);o<t;o++)i[o]=e[o];return i}function o(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var i=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}var i,r;return i=t,r=[{key:\"addClass\",value:function(o,i){o&&(i=i.split(\" \"),t.getElements(o).forEach((function(t){var o;(o=t.classList).add.apply(o,e(i))})))}},{key:\"removeClass\",value:function(o,i){o&&(i=i.split(\" \"),t.getElements(o).forEach((function(t){var o;(o=t.classList).remove.apply(o,e(i))})))}},{key:\"getElements\",value:function(e){if(e)return void 0===e.forEach&&(e=[e]),e}},{key:\"getMoreVisibleSides\",value:function(e){if(!e)return{};var t=e.getBoundingClientRect(),o=window.innerWidth,i=window.innerHeight,r=t.left,n=t.top;return{horizontal:r>o-r-t.width?\"left\":\"right\",vertical:n>i-n-t.height?\"top\":\"bottom\"}}},{key:\"getAbsoluteCoords\",value:function(e){if(e){var t=e.getBoundingClientRect(),o=window.pageXOffset,i=window.pageYOffset;return{width:t.width,height:t.height,top:t.top+i,right:t.right+o,bottom:t.bottom+i,left:t.left+o}}}},{key:\"getCoords\",value:function(e){return e?e.getBoundingClientRect():{}}},{key:\"getData\",value:function(e,t,o){if(e){var i=e?e.dataset[t]:\"\";return\"number\"===o?i=parseFloat(i)||0:\"true\"===i?i=!0:\"false\"===i&&(i=!1),i}}},{key:\"setData\",value:function(e,t,o){e&&(e.dataset[t]=o)}},{key:\"setStyle\",value:function(e,t,o){e&&(e.style[t]=o)}},{key:\"show\",value:function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"block\";t.setStyle(e,\"display\",o)}},{key:\"hide\",value:function(e){t.setStyle(e,\"display\",\"none\")}},{key:\"getHideableParent\",value:function(e){for(var t,o=e.parentElement;o;){var i=getComputedStyle(o).overflow;if(-1!==i.indexOf(\"scroll\")||-1!==i.indexOf(\"auto\")){t=o;break}o=o.parentElement}return t}}],r&&o(i,r),t}();function r(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var n=[\"top\",\"bottom\",\"left\",\"right\"].map((function(e){return\"position-\".concat(e)})),a={top:\"rotate(180deg)\",left:\"rotate(90deg)\",right:\"rotate(-90deg)\"},s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e);try{this.setProps(t),this.init()}catch(e){console.warn(\"Couldn't initiate popper\"),console.error(e)}}var t,o;return t=e,o=[{key:\"init\",value:function(){var e=this.$popperEle;e&&this.$triggerEle&&(i.setStyle(e,\"zIndex\",this.zIndex),this.setPosition())}},{key:\"setProps\",value:function(e){var t=(e=this.setDefaultProps(e)).position?e.position.toLowerCase():\"auto\";if(this.$popperEle=e.$popperEle,this.$triggerEle=e.$triggerEle,this.$arrowEle=e.$arrowEle,this.margin=parseFloat(e.margin),this.offset=parseFloat(e.offset),this.enterDelay=parseFloat(e.enterDelay),this.exitDelay=parseFloat(e.exitDelay),this.showDuration=parseFloat(e.showDuration),this.hideDuration=parseFloat(e.hideDuration),this.transitionDistance=parseFloat(e.transitionDistance),this.zIndex=parseFloat(e.zIndex),this.afterShowCallback=e.afterShow,this.afterHideCallback=e.afterHide,this.hasArrow=!!this.$arrowEle,-1!==t.indexOf(\" \")){var o=t.split(\" \");this.position=o[0],this.secondaryPosition=o[1]}else this.position=t}},{key:\"setDefaultProps\",value:function(e){return Object.assign({position:\"auto\",margin:8,offset:5,enterDelay:0,exitDelay:0,showDuration:300,hideDuration:200,transitionDistance:10,zIndex:1},e)}},{key:\"setPosition\",value:function(){i.show(this.$popperEle,\"inline-flex\");var e,t,o,r=window.innerWidth,s=window.innerHeight,l=i.getAbsoluteCoords(this.$popperEle),u=i.getAbsoluteCoords(this.$triggerEle),p=l.width,h=l.height,c=l.top,f=l.right,v=l.bottom,d=l.left,y=u.width,m=u.height,g=u.top,b=u.right,w=u.bottom,E=u.left,k=g-c,$=E-d,D=$,S=k,C=this.position,P=this.secondaryPosition,O=y/2-p/2,T=m/2-h/2,A=this.margin,x=this.transitionDistance,I=window.scrollY-c,H=s+I,j=window.scrollX-d,L=r+j,R=this.offset;R&&(I+=R,H-=R,j+=R,L-=R),\"auto\"===C&&(C=i.getMoreVisibleSides(this.$triggerEle).vertical);var z={top:{top:S-h-A,left:D+O},bottom:{top:S+m+A,left:D+O},right:{top:S+T,left:D+y+A},left:{top:S+T,left:D-p-A}},F=z[C];if(S=F.top,D=F.left,P&&(\"top\"===P?S=k:\"bottom\"===P?S=k+m-h:\"left\"===P?D=$:\"right\"===P&&(D=$+y-p)),D<j?\"left\"===C?o=\"right\":D=j+d>b?b-d:j:D+p>L&&(\"right\"===C?o=\"left\":D=L+d<E?E-f:L-p),S<I?\"top\"===C?o=\"bottom\":S=I+c>w?w-c:I:S+h>H&&(\"bottom\"===C?o=\"top\":S=H+c<g?g-v:H-h),o){var M=z[o];\"top\"===(C=o)||\"bottom\"===C?S=M.top:\"left\"!==C&&\"right\"!==C||(D=M.left)}\"top\"===C?(e=S+x,t=D):\"right\"===C?(e=S,t=D-x):\"left\"===C?(e=S,t=D+x):(e=S-x,t=D);var U=\"translate3d(\".concat(parseInt(t),\"px, \").concat(parseInt(e),\"px, 0)\");if(i.setStyle(this.$popperEle,\"transform\",U),i.setData(this.$popperEle,\"fromLeft\",t),i.setData(this.$popperEle,\"fromTop\",e),i.setData(this.$popperEle,\"top\",S),i.setData(this.$popperEle,\"left\",D),i.removeClass(this.$popperEle,n.join(\" \")),i.addClass(this.$popperEle,\"position-\".concat(C)),this.hasArrow){var B=0,q=0,N=D+d,W=S+c,K=this.$arrowEle.offsetWidth/2,V=a[C]||\"\";\"top\"===C||\"bottom\"===C?(B=y/2+E-N)<K?B=K:B>p-K&&(B=p-K):\"left\"!==C&&\"right\"!==C||((q=m/2+g-W)<K?q=K:q>h-K&&(q=h-K)),i.setStyle(this.$arrowEle,\"transform\",\"translate3d(\".concat(parseInt(B),\"px, \").concat(parseInt(q),\"px, 0) \").concat(V))}i.hide(this.$popperEle)}},{key:\"resetPosition\",value:function(){i.setStyle(this.$popperEle,\"transform\",\"none\"),this.setPosition()}},{key:\"show\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.resetPosition,r=t.data;clearTimeout(this.exitDelayTimeout),clearTimeout(this.hideDurationTimeout),o&&this.resetPosition(),this.enterDelayTimeout=setTimeout((function(){var t=i.getData(e.$popperEle,\"left\"),o=i.getData(e.$popperEle,\"top\"),n=\"translate3d(\".concat(parseInt(t),\"px, \").concat(parseInt(o),\"px, 0)\"),a=e.showDuration;i.show(e.$popperEle,\"inline-flex\"),i.getCoords(e.$popperEle),i.setStyle(e.$popperEle,\"transitionDuration\",a+\"ms\"),i.setStyle(e.$popperEle,\"transform\",n),i.setStyle(e.$popperEle,\"opacity\",1),e.showDurationTimeout=setTimeout((function(){\"function\"==typeof e.afterShowCallback&&e.afterShowCallback(r)}),a)}),this.enterDelay)}},{key:\"hide\",value:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data;clearTimeout(this.enterDelayTimeout),clearTimeout(this.showDurationTimeout),this.exitDelayTimeout=setTimeout((function(){if(e.$popperEle){var o=parseInt(i.getData(e.$popperEle,\"fromLeft\")),r=parseInt(i.getData(e.$popperEle,\"fromTop\")),n=\"translate3d(\".concat(o,\"px, \").concat(r,\"px, 0)\"),a=e.hideDuration;i.setStyle(e.$popperEle,\"transitionDuration\",a+\"ms\"),i.setStyle(e.$popperEle,\"transform\",n),i.setStyle(e.$popperEle,\"opacity\",0),e.hideDurationTimeout=setTimeout((function(){i.hide(e.$popperEle),\"function\"==typeof e.afterHideCallback&&e.afterHideCallback(t)}),a)}}),this.exitDelay)}},{key:\"updatePosition\",value:function(){i.setStyle(this.$popperEle,\"transitionDuration\",\"0ms\"),this.resetPosition();var e=parseInt(i.getData(this.$popperEle,\"left\")),t=parseInt(i.getData(this.$popperEle,\"top\"));i.show(this.$popperEle,\"inline-flex\"),i.setStyle(this.$popperEle,\"transform\",\"translate3d(\".concat(e,\"px, \").concat(t,\"px, 0)\"))}}],o&&r(t.prototype,o),e}();window.PopperComponent=s}(),function(){\"use strict\";function e(t){return e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},e(t)}function t(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(t){var o=function(t,o){if(\"object\"!=e(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,o||\"default\");if(\"object\"!=e(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===o?String:Number)(t)}(t,\"string\");return\"symbol\"==e(o)?o:o+\"\"}var i=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)},i=[{key:\"convertToBoolean\",value:function(e){return e=!0===e||\"true\"===e||!1!==e&&\"false\"!==e&&arguments.length>1&&void 0!==arguments[1]&&arguments[1]}},{key:\"removeArrayEmpty\",value:function(e){return Array.isArray(e)&&e.length?e.filter((function(e){return!!e})):[]}},{key:\"throttle\",value:function(e,t){var o,i=0;return function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=(new Date).getTime(),l=t-(s-i);clearTimeout(o),l<=0?(i=s,e.apply(void 0,n)):o=setTimeout((function(){e.apply(void 0,n)}),l)}}}],(o=null)&&t(e.prototype,o),i&&t(e,i),Object.defineProperty(e,\"prototype\",{writable:!1}),e;var e,o,i}();function r(e){return r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},r(e)}function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(e)||function(e,t){if(e){if(\"string\"==typeof e)return a(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===o&&e.constructor&&(o=e.constructor.name),\"Map\"===o||\"Set\"===o?Array.from(e):\"Arguments\"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?a(e,t):void 0}}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,i=new Array(t);o<t;o++)i[o]=e[o];return i}function s(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,l(i.key),i)}}function l(e){var t=function(e,t){if(\"object\"!=r(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||\"default\");if(\"object\"!=r(i))return i;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"==r(t)?t:t+\"\"}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}return t=e,r=[{key:\"addClass\",value:function(t,o){t&&(o=o.split(\" \"),e.getElements(t).forEach((function(e){var t;(t=e.classList).add.apply(t,n(o))})))}},{key:\"removeClass\",value:function(t,o){t&&(o=o.split(\" \"),e.getElements(t).forEach((function(e){var t;(t=e.classList).remove.apply(t,n(o))})))}},{key:\"hasClass\",value:function(e,t){return!!e&&e.classList.contains(t)}},{key:\"getElement\",value:function(e){return e&&(\"string\"==typeof e?e=document.querySelector(e):void 0!==e.length&&(e=e[0])),e||null}},{key:\"getElements\",value:function(e){if(e)return void 0===e.forEach&&(e=[e]),e}},{key:\"addEvent\",value:function(t,o,i){e.addOrRemoveEvent(t,o,i,\"add\")}},{key:\"removeEvent\",value:function(t,o,i){e.addOrRemoveEvent(t,o,i,\"remove\")}},{key:\"addOrRemoveEvent\",value:function(t,o,r,n){t&&(o=i.removeArrayEmpty(o.split(\" \"))).forEach((function(o){(t=e.getElements(t)).forEach((function(e){\"add\"===n?e.addEventListener(o,r):e.removeEventListener(o,r)}))}))}},{key:\"getScrollableParents\",value:function(e){if(!e)return[];for(var t=[window],o=e.parentElement;o;){var i=getComputedStyle(o).overflow;-1===i.indexOf(\"scroll\")&&-1===i.indexOf(\"auto\")||t.push(o),o=o.parentElement}return t}},{key:\"convertPropToDataAttr\",value:function(e){return e?\"data-popover-\".concat(e).replace(/([A-Z])/g,\"-$1\").toLowerCase():\"\"}}],(o=null)&&s(t.prototype,o),r&&s(t,r),Object.defineProperty(t,\"prototype\",{writable:!1}),t;var t,o,r}();function p(e){return p=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},p(e)}function h(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,c(i.key),i)}}function c(e){var t=function(e,t){if(\"object\"!=p(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||\"default\");if(\"object\"!=p(i))return i;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"==p(t)?t:t+\"\"}var f,v={27:\"onEscPress\"},d=[\"target\",\"position\",\"margin\",\"offset\",\"enterDelay\",\"exitDelay\",\"showDuration\",\"hideDuration\",\"transitionDistance\",\"updatePositionThrottle\",\"zIndex\",\"hideOnOuterClick\",\"showOnHover\",\"hideArrowIcon\",\"disableManualAction\",\"disableUpdatePosition\"],y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e);try{this.setProps(t),this.init()}catch(e){console.warn(\"Couldn't initiate Popover component\"),console.error(e)}}return t=e,r=[{key:\"init\",value:function(t){var o=t.ele;if(o){var i=!1;if(\"string\"==typeof o){if(!(o=document.querySelectorAll(o)))return;1===o.length&&(i=!0)}void 0===o.length&&(o=[o],i=!0);var r=[];return o.forEach((function(o){t.ele=o,e.destroy(o),r.push(new e(t))})),i?r[0]:r}}},{key:\"destroy\",value:function(e){if(e){var t=e.popComp;t&&t.destroy()}}},{key:\"showMethod\",value:function(){this.popComp.show()}},{key:\"hideMethod\",value:function(){this.popComp.hide()}},{key:\"updatePositionMethod\",value:function(){this.popComp.popper.updatePosition()}},{key:\"getAttrProps\",value:function(){var e=u.convertPropToDataAttr,t={};return d.forEach((function(o){t[e(o)]=o})),t}}],(o=[{key:\"init\",value:function(){this.$popover&&(this.setElementProps(),this.renderArrow(),this.initPopper(),this.addEvents())}},{key:\"getEvents\",value:function(){var e=[{$ele:document,event:\"click\",method:\"onDocumentClick\"},{$ele:document,event:\"keydown\",method:\"onDocumentKeyDown\"}];return this.disableManualAction||(e.push({$ele:this.$ele,event:\"click\",method:\"onTriggerEleClick\"}),this.showOnHover&&(e.push({$ele:this.$ele,event:\"mouseenter\",method:\"onTriggerEleMouseEnter\"}),e.push({$ele:this.$ele,event:\"mouseleave\",method:\"onTriggerEleMouseLeave\"}))),e}},{key:\"addOrRemoveEvents\",value:function(e){var t=this;this.getEvents().forEach((function(o){t.addOrRemoveEvent({action:e,$ele:o.$ele,events:o.event,method:o.method})}))}},{key:\"addEvents\",value:function(){this.addOrRemoveEvents(\"add\")}},{key:\"removeEvents\",value:function(){this.addOrRemoveEvents(\"remove\"),this.removeScrollEventListeners(),this.removeResizeEventListeners()}},{key:\"addOrRemoveEvent\",value:function(e){var t=this,o=e.action,r=e.$ele,n=e.events,a=e.method,s=e.throttle;r&&(n=i.removeArrayEmpty(n.split(\" \"))).forEach((function(e){var n=\"\".concat(a,\"-\").concat(e),l=t.events[n];l||(l=t[a].bind(t),s&&(l=i.throttle(l,s)),t.events[n]=l),\"add\"===o?u.addEvent(r,e,l):u.removeEvent(r,e,l)}))}},{key:\"addScrollEventListeners\",value:function(){this.$scrollableElems=u.getScrollableParents(this.$ele),this.addOrRemoveEvent({action:\"add\",$ele:this.$scrollableElems,events:\"scroll\",method:\"onAnyParentScroll\",throttle:this.updatePositionThrottle})}},{key:\"removeScrollEventListeners\",value:function(){this.$scrollableElems&&(this.addOrRemoveEvent({action:\"remove\",$ele:this.$scrollableElems,events:\"scroll\",method:\"onAnyParentScroll\"}),this.$scrollableElems=null)}},{key:\"addResizeEventListeners\",value:function(){this.addOrRemoveEvent({action:\"add\",$ele:window,events:\"resize\",method:\"onResize\",throttle:this.updatePositionThrottle})}},{key:\"removeResizeEventListeners\",value:function(){this.addOrRemoveEvent({action:\"remove\",$ele:window,events:\"resize\",method:\"onResize\"})}},{key:\"onAnyParentScroll\",value:function(){this.popper.updatePosition()}},{key:\"onResize\",value:function(){this.popper.updatePosition()}},{key:\"onDocumentClick\",value:function(e){var t=e.target,o=t.closest(\".pop-comp-ele\"),i=t.closest(\".pop-comp-wrapper\");this.hideOnOuterClick&&o!==this.$ele&&i!==this.$popover&&this.hide()}},{key:\"onDocumentKeyDown\",value:function(e){var t=e.which||e.keyCode,o=v[t];o&&this[o](e)}},{key:\"onEscPress\",value:function(){this.hideOnOuterClick&&this.hide()}},{key:\"onTriggerEleClick\",value:function(){this.toggle()}},{key:\"onTriggerEleMouseEnter\",value:function(){this.show()}},{key:\"onTriggerEleMouseLeave\",value:function(){this.hide()}},{key:\"setProps\",value:function(e){e=this.setDefaultProps(e),this.setPropsFromElementAttr(e);var t=i.convertToBoolean;this.$ele=e.ele,this.target=e.target,this.position=e.position,this.margin=parseFloat(e.margin),this.offset=parseFloat(e.offset),this.enterDelay=parseFloat(e.enterDelay),this.exitDelay=parseFloat(e.exitDelay),this.showDuration=parseFloat(e.showDuration),this.hideDuration=parseFloat(e.hideDuration),this.transitionDistance=parseFloat(e.transitionDistance),this.updatePositionThrottle=parseFloat(e.updatePositionThrottle),this.zIndex=parseFloat(e.zIndex),this.hideOnOuterClick=t(e.hideOnOuterClick),this.showOnHover=t(e.showOnHover),this.hideArrowIcon=t(e.hideArrowIcon),this.disableManualAction=t(e.disableManualAction),this.disableUpdatePosition=t(e.disableUpdatePosition),this.beforeShowCallback=e.beforeShow,this.afterShowCallback=e.afterShow,this.beforeHideCallback=e.beforeHide,this.afterHideCallback=e.afterHide,this.events={},this.$popover=u.getElement(this.target)}},{key:\"setDefaultProps\",value:function(e){return Object.assign({position:\"auto\",margin:8,offset:5,enterDelay:0,exitDelay:0,showDuration:300,hideDuration:200,transitionDistance:10,updatePositionThrottle:100,zIndex:1,hideOnOuterClick:!0,showOnHover:!1,hideArrowIcon:!1,disableManualAction:!1,disableUpdatePosition:!1},e)}},{key:\"setPropsFromElementAttr\",value:function(e){var t=e.ele;for(var o in f){var i=t.getAttribute(o);i&&(e[f[o]]=i)}}},{key:\"setElementProps\",value:function(){var t=this.$ele;t.popComp=this,t.show=e.showMethod,t.hide=e.hideMethod,t.updatePosition=e.updatePositionMethod,u.addClass(this.$ele,\"pop-comp-ele\"),u.addClass(this.$popover,\"pop-comp-wrapper\")}},{key:\"getOtherTriggerPopComp\",value:function(){var e,t=this.$popover.popComp;return t&&t.$ele!==this.$ele&&(e=t),e}},{key:\"initPopper\",value:function(){var e={$popperEle:this.$popover,$triggerEle:this.$ele,$arrowEle:this.$arrowEle,position:this.position,margin:this.margin,offset:this.offset,enterDelay:this.enterDelay,exitDelay:this.exitDelay,showDuration:this.showDuration,hideDuration:this.hideDuration,transitionDistance:this.transitionDistance,zIndex:this.zIndex,afterShow:this.afterShow.bind(this),afterHide:this.afterHide.bind(this)};this.popper=new PopperComponent(e)}},{key:\"beforeShow\",value:function(){\"function\"==typeof this.beforeShowCallback&&this.beforeShowCallback(this)}},{key:\"beforeHide\",value:function(){\"function\"==typeof this.beforeHideCallback&&this.beforeHideCallback(this)}},{key:\"show\",value:function(){this.isShown()||(this.isShownForOtherTrigger()?this.showAfterOtherHide():(u.addClass(this.$popover,\"pop-comp-disable-events\"),this.$popover.popComp=this,this.beforeShow(),this.popper.show({resetPosition:!0}),u.addClass(this.$ele,\"pop-comp-active\")))}},{key:\"hide\",value:function(){this.isShown()&&(this.beforeHide(),this.popper.hide(),this.removeScrollEventListeners(),this.removeResizeEventListeners())}},{key:\"toggle\",value:function(e){void 0===e&&(e=!this.isShown()),e?this.show():this.hide()}},{key:\"isShown\",value:function(){return u.hasClass(this.$ele,\"pop-comp-active\")}},{key:\"isShownForOtherTrigger\",value:function(){var e=this.getOtherTriggerPopComp();return!!e&&e.isShown()}},{key:\"showAfterOtherHide\",value:function(){var e=this,t=this.getOtherTriggerPopComp();if(t){var o=t.exitDelay+t.hideDuration+100;setTimeout((function(){e.show()}),o)}}},{key:\"afterShow\",value:function(){var e=this;this.showOnHover?setTimeout((function(){u.removeClass(e.$popover,\"pop-comp-disable-events\")}),2e3):u.removeClass(this.$popover,\"pop-comp-disable-events\"),this.disableUpdatePosition||(this.addScrollEventListeners(),this.addResizeEventListeners()),\"function\"==typeof this.afterShowCallback&&this.afterShowCallback(this)}},{key:\"afterHide\",value:function(){u.removeClass(this.$ele,\"pop-comp-active\"),\"function\"==typeof this.afterHideCallback&&this.afterHideCallback(this)}},{key:\"renderArrow\",value:function(){if(!this.hideArrowIcon){var e=this.$popover.querySelector(\".pop-comp-arrow\");e||(this.$popover.insertAdjacentHTML(\"afterbegin\",'<i class=\"pop-comp-arrow\"></i>'),e=this.$popover.querySelector(\".pop-comp-arrow\")),this.$arrowEle=e}}},{key:\"destroy\",value:function(){this.removeEvents()}}])&&h(t.prototype,o),r&&h(t,r),Object.defineProperty(t,\"prototype\",{writable:!1}),t;var t,o,r}();f=y.getAttrProps(),window.PopoverComponent=y}();"],"names":["DomUtils","_classCallCheck","key","value","$ele","classNames","classNamesArr","split","getElements","forEach","$this","_$this$classList","classList","add","apply","_toConsumableArray","_$this$classList2","remove","isAdd","isAdding","undefined","Boolean","toggle","className","contains","oldClass","newClass","replace","scrollWidth","offsetWidth","name","type","dataset","parseFloat","setAttribute","$from","$to","attrList","valueLessProps","values","attr","getAttribute","indexOf","style","props","Object","keys","attrName","concat","elements","$selector","arguments","length","$parentEle","parent","document","querySelectorAll","Array","from","events","callback","Utils","removeArrayEmpty","event","addEventListener","eventName","bubbles","$eleArray","setTimeout","dispatchEvent","CustomEvent","data","html","entries","_ref","_ref2","_slicedToArray","k","v","prop","toLowerCase","newTabIndex","tabIndex","console","log","removeEventListener","text","toString","result","isArray","_typeof","isEmpty","i","array","cloneArray","inputArr","index","splice","filter","d","max","min","minN","Math","ceil","maxN","floor","random","normalize","container","tempElement","createElement","position","visibility","whiteSpace","fontSize","window","getComputedStyle","fontFamily","textContent","body","appendChild","textWidth","clientWidth","removeChild","test","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","definition","o","defineProperty","enumerable","get","obj","prototype","hasOwnProperty","call","r","Symbol","toStringTag","attrPropsMapping","keyDownMethodMapping","nativeProps","dataProps","VirtualSelect","options","this","createSecureTextElements","setProps","setDisabledOptions","disabledOptions","setOptions","render","e","warn","error","uniqueId","wrapperClasses","toggleButtonClasses","valueTooltip","showValueAsTags","getTooltipAttrText","placeholder","clearButtonTooltip","clearButtonText","ariaLabelledbyText","ariaLabelledby","ariaLabelText","ariaLabelClearBtnTxt","ariaLabelClearButtonText","isExpanded","keepAlwaysOpen","hideSelectDisplayOnKeepAlwaysOpen","additionalClasses","additionalToggleButtonClasses","multiple","disableSelectAll","hideClearButton","showAsPopup","hasSearch","textDirection","popupPosition","renderDropbox","innerHTML","$body","querySelector","$wrapper","hasDropboxWrapper","$allWrappers","$dropboxWrapper","$dropboxContainer","addClass","$toggleButton","$clearButton","$valueText","$hiddenInput","$dropbox","$dropboxCloseButton","$dropboxContainerBottom","$dropboxContainerTop","$search","$optionsContainer","$optionsList","$options","$noOptions","$noSearchResults","afterRenderWrapper","dropboxWrapper","dropboxClasses","additionalDropboxClasses","dropboxContainerClasses","additionalDropboxContainerClasses","noOptionsText","noSearchResultsText","setAttr","setAria","searchRegex","_this","isRenderingdOnScroll","visibleOptions","getVisibleOptions","checkboxHtml","newOptionIconHtml","markSearchResults","searchValue","labelRenderer","disableOptionGroupCheckbox","searchGroup","hasLabelRenderer","convertToBoolean","groupName","RegExp","regexEscape","allowNewOption","newOptionTooltip","optionLabel","optionClasses","optionTooltip","leftSection","rightSection","description","groupIndexText","ariaLabel","tabIndexValue","isSelected","ariaDisabledText","isFocused","isDisabled","isGroupTitle","label","isGroupOption","optionDesc","groupIndex","customData","group_name","isCurrentNew","visibleIndex","$visibleOptions","afterRenderOptions","hasSearchContainer","searchInput","selectAllText","ariaLabelSearchClearBtnTxt","ariaLabelSearchClearButtonText","searchFormLabel","searchPlaceholderText","$searchInput","$searchClear","$toggleAllButton","$toggleAllCheckbox","addEvent","addMutationObserver","method","_this2","eventsKey","bind","removeEvent","removeMutationObserver","_this3","$clickedEle","target","closest","clickedInstance","parentElement","virtualSelect","isOpened","shouldFocusWrapperOnClose","closeDropbox","openInstances","instance","instanceObj","which","keyCode","activeElement","shiftKey","preventDefault","focusFirstVisibleOption","wrapper","toggleAllOptions","selectFocusedOption","disabled","openDropbox","focusOption","direction","selectedValues","reset","code","$target","stopPropagation","removeValue","toggleDropbox","setVisibleOptions","$option","hasClass","onGroupTitleClick","selectOption","toggleGroupTitleCheckbox","toggleGroupOptions","removeOptionFocus","setSearchValue","focusSearchInput","showDropboxAsPopup","newvalue","innerWidth","popupDropboxBreakpoint","optionsCount","getOptionsCount","optionsCountInit","halfOptionsCount","optionsHeight","getOptionsHeight","mutationObserver","disconnect","dropboxPopover","destroy","setValue","disableEvent","disableValidation","setOptionsContainerHeight","_this4","$vscompEle","MutationObserver","mutations","isAdded","isRemoved","mutation","addedNodes","some","removedNodes","observe","childList","subtree","isReset","toggleAllOptionsClass","_this5","newOption","getNewOption","newIndex","newValues","push","setOptionProp","renderSearch","setEleStyles","setDropboxStyles","setOptionsHeight","addEvents","setEleProps","initDropboxPopover","initialSelectedValue","setValueMethod","silentInitialValueSet","autoSelectFirstOption","showOptionsOnlyOnSearch","initialDisabled","disable","initialReadOnly","setReadOnly","autofocus","focus","hasRenderedOnScroll","hasNoOptions","hasServerSearch","hasNoSearchResults","toggleClass","setOptionAttr","setOptionsPosition","setOptionsTooltip","focusedOption","getElementsBySelector","_this6","clearInterval","serverSearchTimeout","serverSearch","searchDelay","setVisibleOptionsCount","selectAllOnlyVisible","focusFirst","scrollToTop","updatePosition","renderOptions","keepValue","setSelectedProp","params","setDefaultProps","setPropsFromElementAttr","ele","valueKey","labelKey","descriptionKey","aliasKey","optionHeightText","optionHeight","search","searchByStartsWith","hasOptionDescription","showSelectedOptionsFirst","hideValueTooltipOnSelectAll","alwaysShowSelectedOptionsCount","alwaysShowSelectedOptionsLabel","disableAllOptionsSelectedText","enableSecureText","setValueAsArray","required","useGroupValue","focusSelectedOptionOnOpen","searchNormalize","optionsSelectedText","optionSelectedText","allOptionsSelectedText","moreText","dropboxWidth","tooltipFontSize","tooltipAlignment","tooltipMaxWidth","updatePositionThrottle","noOfDisplayValues","parseInt","zIndex","maxValues","minValues","secureText","onServerSearch","selectedLabelRenderer","selectedValue","emptyValue","ariaLabelTagClearButtonText","maxWidth","showDuration","hideDuration","readOnly","selectedOptions","tooltipEnterDelay","searchValueOriginal","isAllSelected","getUniqueId","defaultOptions","assign","form","setOptionsMethod","setDisabledOptionsMethod","setEnabledOptions","setEnabledOptionsMethod","toggleSelectAll","addOption","addOptionMethod","getNewValue","getNewValueMethod","getDisplayValue","getDisplayValueMethod","getSelectedOptions","getSelectedOptionsMethod","getDisabledOptions","getDisabledOptionsMethod","open","openMethod","close","closeMethod","focusMethod","enable","enableMethod","disableMethod","setReadOnlyMethod","destroyMethod","validate","validateMethod","toggleRequired","toggleRequiredMethod","newValue","silentChange","valuesMapping","valuesOrder","validValues","isMultiSelect","normalizeValues","setGroupOptionsValue","setNewOptionsFromValue","normalizedOptionValue","hasOptionGroup","setGroupsSelectedProp","sort","a","b","_validValues2","beforeValueSet","afterValueSet","preparedValues","selectedGroups","isAllGroupOptionsSelected","afterSetOptions","setOptionsProp","disabledOptionsArr","map","disabledOptionsMapping","enabledOptions","enabledOptionsMapping","_this7","preparedOptions","hasDisabledOptions","getString","getAlias","hasEmptyValueOption","prepareOption","_defineProperty","childOptions","option","labelNormalized","trim","normalizeString","alias","isVisible","isNew","childData","optionsLength","visibleOptionsCount","lastOptionIndex","setSortedOptions","_this8","newOptions","optionsUpdated","newOptionsValueMapping","setNewOption","setValueText","removeClass","sortedOptions","sortOptionsGroup","sortOptions","isOnScrollUpdating","maxOptionsToShow","startIndex","getVisibleStartIndex","endIndex","inView","top","transform","setData","_this9","$optionEle","_ref2$disableEvent","_ref2$disableValidati","normalizedValue","getValue","getInputValue","isMaxValuesSelected","hasValue","isNotEmpty","_this0","valueText","selectedLength","selectedValuesCount","showAllText","fullDetails","keepSelectionOrder","valueTooltipForTags","willTextOverflow","stripHtmlLabel","valueTagHtml","moreSelectedOptions","aggregatedValueText","join","hasEllipsis","countText","$valueTags","setValueTagAttr","tooltipText","skipInputSet","forceSet","afterSetSearchValue","visibleOptionGroupsMapping","hasExactOption","isOptionVisible","getVisibleOptionGroupsMapping","removeNewOption","afterSetVisibleOptionsCount","height","setStyle","afterSetOptionsContainerHeight","availableValuesMapping","width","styles","setStyles","containerStyles","getData","optionDetails","$valueTag","selectedOptionIndex","scrollTop","getGroupValue","preparedValue","JSON","stringify","getFirstVisibleOptionIndex","ellipsisOnly","allowHtml","containsHTML","replaceDoubleQuotesWithHTML","getAttributesText","lastOption","displayValues","_ref3","_ref3$fullDetails","_ref3$keepSelectionOr","disabledOptionsValueMapping","_ref4","structureOptionGroup","count","availableHeight","innerHeight","propName","$sibling","getRandomInt","margin","transitionDistance","hideArrowIcon","disableManualAction","disableUpdatePosition","afterShow","afterShowPopper","afterHide","afterHidePopper","PopoverComponent","isSilent","_this1","lastInteractedInstance","originalTransition","transition","isSilentOpen","setDropboxWrapperWidth","changeTabIndex","offsetHeight","show","moveSelectedOptionsFirst","setScrollTop","isPopupActive","focusElementOnOpen","isSilentClose","hide","active","withinComponent","removeAttribute","$focusableEle","getSibling","$newFocusedEle","_ref5","$focusedEle","firstVisibleOptionIndex","toggleOptionFocusedState","toggleFocusedProp","moveFocusedOptionToView","newScrollTop","containerRect","getBoundingClientRect","optionRect","containerTop","containerBottom","bottom","containerHeight","optionTop","optionBottom","optionOffsetTop","offsetTop","optionsTop","selectedIndex","isNewOption","shouldSelectRange","lastSelectedOptionIndex","toggleSelectedProp","toggleGroupOptionsParent","getOptionIndex","$prevSelectedOption","toggleOptionSelectedState","removeItemFromArray","beforeSelectNewValue","selectRangeOptions","_this10","groupIndexes","toggleGroupTitleProp","selectAll","selectingAll","isAllVisibleSelected","isAllOptionsSelected","visibleOnly","$group","_this11","focusedOptionIndex","formReset","disableChangeEvent","rerender","getOptionObj","_objectSpread","removeOption","aIsSelected","isAnySelected","bIsSelected","structuredOptions","destructureOptionGroup","_ref7","startsWith","includes","childArray","setSelectedOptions","blur","toggleAttribute","removeEvents","hasError","$secureDiv","$secureText","createTextNode","nodeValue","isRequired","id","singleEle","eleLength","instances","tagName","setPropsFromSelect","convertPropToDataAttr","getNativeOptions","$container","children","selected","optionsList","$newEle","setAttrFromEle","parentNode","insertBefore","$form","_this$virtualSelect","_this$virtualSelect2","_this$virtualSelect3","_this$virtualSelect4","onResize","onFormReset","onFormSubmit","onResizeMethod","getAttrProps","Set","NodeList","t","iterator","slice","constructor","TypeError","left","n","horizontal","vertical","pageXOffset","pageYOffset","right","overflow","configurable","writable","s","init","$popperEle","$triggerEle","setPosition","$arrowEle","offset","enterDelay","exitDelay","afterShowCallback","afterHideCallback","hasArrow","secondaryPosition","l","getAbsoluteCoords","u","p","h","c","f","y","m","g","w","E","$","D","S","C","P","O","T","A","x","I","scrollY","H","j","scrollX","L","R","getMoreVisibleSides","z","F","M","U","B","q","N","W","K","V","resetPosition","clearTimeout","exitDelayTimeout","hideDurationTimeout","enterDelayTimeout","getCoords","showDurationTimeout","PopperComponent","toPrimitive","String","Date","getTime","addOrRemoveEvent","popComp","popper","$popover","setElementProps","renderArrow","initPopper","showOnHover","getEvents","action","addOrRemoveEvents","removeScrollEventListeners","removeResizeEventListeners","throttle","$scrollableElems","getScrollableParents","hideOnOuterClick","beforeShowCallback","beforeShow","beforeHideCallback","beforeHide","getElement","showMethod","hideMethod","updatePositionMethod","isShown","isShownForOtherTrigger","showAfterOtherHide","getOtherTriggerPopComp","addScrollEventListeners","addResizeEventListeners","insertAdjacentHTML"],"sourceRoot":""}